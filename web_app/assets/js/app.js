!function(){"use strict";angular.module("app",["ui.router","mgcrea.ngStrap","mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.parseOptions","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.button","mgcrea.ngStrap.select","chart.js","app.auth","app.dashboard","app.config"])}(),function(){"use strict";angular.module("app.auth",[])}(),function(){"use strict";angular.module("app.config",[])}(),function(){"use strict";angular.module("app.dashboard",[])}(),function(){"use strict";angular.module("app").config(["$datepickerProvider","$timepickerProvider","$httpProvider",function(e,t,n){n.interceptors.push("authInterceptor"),angular.extend(e.defaults,{autoclose:!0,dateFormat:"d/M/yy",modelDateFormat:"d/M/yy",dateType:"string",startWeek:1}),angular.extend(t.defaults,{autoclose:!1,timeFormat:"h:mm a",modelTimeFormat:"h:mm a",timeType:"string"})}])}(),function(){"use strict";angular.module("app").constant("SERVER_ADDRESS","http://localhost:8080")}(),function(){"use strict";angular.module("app").run(["$rootScope","$state","$stateParams",function(e,t,n){e.$state=t,e.$stateParams=n}]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/dashboard"),e.state("login",{url:"/login",templateUrl:"/app/auth/login.html"}).state("dashboard",{url:"/dashboard",controller:"DashboardController",controllerAs:"vm",templateUrl:"/app/dashboard/dashboard.html"}).state("config",{url:"/config",controller:"ConfigController",controllerAs:"vm",templateUrl:"/app/config/config.html"}).state("warnings",{url:"/warnings"})}])}(),function(){"use strict";function e(e,t,n,r){function o(){r.login(s.username,s.password).then(function(e){n.authed()&&(s.authed=!0,t.go("dashboard"),a())},function(e){alert("Invalid username or password")})}function i(){r.logout(),s.authed=!1,t.go("login")}function a(){s.username="imafake",s.password="ekafami"}var s=this;s.authed=n.authed(),s.login=o,s.logout=i,a(),e.$on("$stateChangeStart",function(e,r){n.authed()?"login"==r.name&&(e.preventDefault(),t.is("login")&&t.go("dashboard")):"login"!=r.name&&(e.preventDefault(),t.go("login"))})}angular.module("app.auth").controller("AuthController",e),e.$inject=["$rootScope","$state","auth","server"]}(),function(){"use strict";function e(e){function t(e,t){}function n(){e.localStorage.removeItem("token")}function r(){var e=i();if(e){var t=a(e);return moment().unix()<=t.exp}return!1}function o(t){e.localStorage.token=t}function i(t){return e.localStorage.token}function a(t){var n=t.split(".")[1],r=n.replace("-","+").replace("_","/");return JSON.parse(e.atob(r))}return{login:t,logout:n,authed:r,getToken:i,saveToken:o}}angular.module("app.auth").factory("auth",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){function t(e){return e}function n(t){return t.data.token&&e.saveToken(t.data.token),t}return{request:t,response:n}}angular.module("app.auth").factory("authInterceptor",e),e.$inject=["auth"]}(),function(){"use strict";function e(e){function t(e){r.sensorsEdit[e]&&(r.sensors[e].unconfigured=!1),r.sensorsEdit[e]=!r.sensorsEdit[e]}function n(e){return e.name&&e.units?!0:!1}var r=this;r.sensors=e.getSensors(),r.sensorsEdit=[],r.toggleEdit=t,r.sensorValid=n;for(var o=0;o<r.sensors.length;o++)r.sensorsEdit.push(!1)}angular.module("app.config").controller("ConfigController",e),e.$inject=["server"]}(),function(){"use strict";function e(e,t,n){function r(e,r){s.buoys[e]=r,t.updateBuoys(),n.updateReadings()}function o(){if(i()){var e=u+" "+d;"range"==s.times.type?(s.times.range.from=moment(s.times.inputs.range.from.date+" "+s.times.inputs.range.from.time,e),s.times.range.to=moment(s.times.inputs.range.to.date+" "+s.times.inputs.range.to.time,e)):"point"==s.times.type&&(s.times.point=moment(s.times.inputs.point.date+" "+s.times.inputs.point.time,e)),t.updateTimes(),n.updateReadings()}}function i(){if("all"==s.times.type)return!0;if("range"==s.times.type){var e=s.times.inputs.range.from.date,t=s.times.inputs.range.from.time,n=s.times.inputs.range.to.date,r=s.times.inputs.range.to.time;if(e&&t&&n&&r)return!0}return"point"==s.times.type&&s.times.inputs.point.date?!0:!1}function a(){t.updateSensors(),n.updateReadings()}var s=this;s.buoys=t.buoys(),s.times=t.times(),s.sensors=t.sensors(),s.updateBuoysFilter=r,s.updateTimesFilter=o,s.updateSensorsFilter=a,t.initialise().then(function(){s.buoys=t.buoys(),s.times=t.times(),s.sensors=t.sensors(),t.updateFilters(),n.updateReadings()});var u="D/M/YY",d="h:mm A";e.ready(function(){n.initialiseMap()})}angular.module("app.dashboard").controller("DashboardController",e),e.$inject=["$document","dashboard","map"]}(),function(){"use strict";function e(e,t){function n(){var e=t.getReadings();return e.then(function(e){console.log(e),B=e.data,o()},function(e){console.log("error"),console.log(e)}),e}function r(){$.buoys={},i(),$.times={type:"all",range:{from:null,to:null},point:null,pointReadings:{},inputs:{range:{from:{date:"",time:""},to:{date:"",time:""}},point:{date:"",time:""}}},$.sensors={},$.sensorInputs={},m()}function o(){i(),m()}function i(){for(var e=0;e<B.length;e++)$.buoys.hasOwnProperty(B[e].buoy)||($.buoys[B[e].buoy]=!0)}function a(){return x}function s(){return $.buoys}function u(){return $.times}function d(){m();for(var e in $.sensorInputs)$.sensorInputs.hasOwnProperty(e)&&($.sensors[e].inputs=$.sensorInputs[e]);var t=[];for(var e in $.sensors)$.sensors.hasOwnProperty(e)&&$.sensors[e].display&&t.push($.sensors[e]);return t}function p(){y()}function l(){"point"==$.times.type&&f(),y()}function c(){y()}function m(){for(var e=t.getSensors(),n=0;n<e.length;n++)$.sensors[e[n].id]=e[n],$.sensorInputs.hasOwnProperty(e[n].id)||($.sensorInputs[e[n].id]={enabled:!1,options:[">","<","="],selected:">",value:""}),e[n].display||($.sensorInputs[e[n].id].enabled=!1)}function g(){for(var e=x,t=moment.unix(e[0].timestamp),n=1;n<e.length;n++)moment.unix(e[n].timestamp).isBefore(t)&&(t=moment.unix(e[n].timestamp));return t}function f(){for(var e={},t=0;t<B.length;t++){var n=B[t];if(e.hasOwnProperty(n.buoy)){var r=e[n.buoy].time,o=n.timestamp,i=moment.unix(r).diff($.times.point),a=moment.unix(o).diff($.times.point);Math.abs(a)<Math.abs(i)&&(e[n.buoy]={id:n.id,time:n.timestamp})}else e[n.buoy]={id:n.id,time:n.timestamp}}$.times.pointReadings=e}function y(){x=e("filter")(B,function(e){if(!h(e))return!1;if(!b(e))return!1;for(var t in $.sensorInputs)if($.sensorInputs.hasOwnProperty(t)&&!v(t,$.sensorInputs[t],e))return!1;return!0})}function h(e){return $.buoys[e.buoy]?!0:!1}function b(e){if("range"==$.times.type){var t=moment.unix(e.timestamp);if(!t.isBetween($.times.range.from,$.times.range.to))return!1}else if("point"==$.times.type&&$.times.pointReadings.hasOwnProperty(e.buoy)&&$.times.pointReadings[e.buoy].id!=e.id)return!1;return!0}function v(e,t,n){if(!t.enabled)return!0;var r=parseInt(t.value,10);if(">"==t.selected){if(n.readings[e]<=r)return!1}else if("<"==t.selected){if(n.readings[e]>=r)return!1}else if("="==t.selected&&n.readings[e]!=r)return!1;return!0}function w(e){var t=moment.unix(e.timestamp),n=$.times;if("all"==n.type){var r=moment(),o=r.clone().subtract(2,"weeks");return S(t,o,r)}if("range"==n.type){var r=n.range.to,o=n.range.from;return S(t,o,r)}if("point"==n.type){if(null===n.point)return 1;var r=n.point,o=r.clone().subtract(2,"weeks");return S(t,o,r)}}function S(e,t,n){return e.isBefore(t)?0:e.isBefore(n)?e.diff(t)/n.diff(t):1}var B=[],x=[],$={};return r(),{initialise:n,readings:a,buoys:s,times:u,sensors:d,updateBuoys:p,updateTimes:l,updateFilters:y,updateSensors:c,getOldestReading:g,getRelativeAge:w}}angular.module("app.dashboard").factory("dashboard",e),e.$inject=["$filter","server"]}(),function(){"use strict";function e(e){function t(){var t=[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels",stylers:[{visibility:"off"}]}];l.styles=t,d=new google.maps.Map(document.getElementById("map-canvas"),l),google.maps.event.addListener(d,"zoom_changed",function(){l.zoom=d.getZoom()}),google.maps.event.addListener(d,"center_changed",function(){l.center=d.getCenter()}),google.maps.event.addListener(d,"maptypeid_changed",function(){l.mapTypeId=d.getMapTypeId()}),google.maps.event.addListener(d,"click",function(){g&&s()});for(var n=e.readings(),o=0;o<n.length;o++)r(n[o])}function n(){for(var t=e.readings(),n=[],s=0;s<t.length;s++)n.push(t[s].id);for(var u in c)c.hasOwnProperty(u)&&(u=parseInt(u,10),-1==n.indexOf(u)&&o(u));for(var s=0;s<t.length;s++){var d=t[s].id;c.hasOwnProperty(d)?(c[d].setOpacity(a(t[s])),-1!=m.indexOf(d)&&i(d)):r(t[s])}}function r(e){var t=new google.maps.Marker({position:new google.maps.LatLng(e.latitude,e.longitude),map:d,opacity:a(e)});google.maps.event.addListener(t,"click",function(){u(e,t)}),c[e.id]=t}function o(e){c[e].setMap(null),m.push(e),g&&-1!=m.indexOf(f)&&s()}function i(e){c[e].setMap(d),m.splice(m.indexOf(e),1)}function a(t){var n=e.getRelativeAge(t),r=.3;return n*(1-r)+r}function s(){p.close(),g=!1}function u(e,t){if(!g||(s(),e.id!=f)){var n=moment.unix(e.timestamp).format("D MMMM h:mm A"),r="<div><h5 style='color: white'>Buoy "+e.buoy+"</h5>"+n+"<br>---<br>Battery: "+e.readings.battery+"<br>Pressure: "+e.readings.pressure+"<br>Sea level: "+e.readings.sealevel+"<br>Turbidity: "+e.readings.turbidity+"</div>";p=new InfoBox({content:r,pixelOffset:new google.maps.Size(-60,0),zIndex:null,boxStyle:{color:"white","background-color":"rgb(40, 40, 40)",width:"120px",padding:"10px","border-radius":"10px"},closeBoxMargin:"-6px -6px 2px 2px"}),p.open(d,t),g=!0,f=e.id}}var d,p,l={zoom:11,center:new google.maps.LatLng(-27.573704,153.055818),mapTypeId:google.maps.MapTypeId.ROADMAP},c={},m=[],g=!1,f=-1;return{initialiseMap:t,updateReadings:n}}angular.module("app.dashboard").factory("map",e),e.$inject=["dashboard"]}(),function(){"use strict";function e(e,t,n){function r(){console.log("querying server");var r=n.getToken(),o={headers:{Authorization:"Bearer "+r}};return e.get(t+"/api/readings",o)}function o(){return s}function i(n,r){var o={email:n,password:r};return e.post(t+"/api/login",o)}function a(){n.logout()}var s=[{id:"battery",name:"Battery",description:"Battery level of buoy",colour:"",units:"%",lowerBound:0,upperBound:100,display:!0,unconfigured:!1},{id:"turbidity",name:"Turbidity",description:"Water quality around buoy",colour:"",units:"g/ml",lowerBound:0,upperBound:70,display:!0,unconfigured:!1},{id:"pressure",name:"",description:"",colour:"",units:"",lowerBound:-1,upperBound:-1,display:!1,unconfigured:!0}];return{getReadings:r,getSensors:o,login:i,logout:a}}angular.module("app").factory("server",e),e.$inject=["$http","SERVER_ADDRESS","auth"]}(),function(){"use strict";function e(){function e(){return[{id:1,buoy:1,timestamp:1438933614,latitude:-27.44613423,longitude:153.07834625,readings:{battery:90,pressure:140,sealevel:21,turbidity:14}},{id:2,buoy:2,timestamp:1438588117,latitude:-27.42693772,longitude:153.20674896,readings:{battery:70,pressure:122,sealevel:44,turbidity:4}},{id:3,buoy:2,timestamp:1438760876,latitude:-27.491475,longitude:153.006655,readings:{battery:45,pressure:85,sealevel:15,turbidity:45}},{id:4,buoy:4,timestamp:1438847291,latitude:-27.400357,longitude:153.177995,readings:{battery:75,pressure:97,sealevel:33,turbidity:66}},{id:77,buoy:1,timestamp:1438328839,latitude:-27.44713423,longitude:153.09234625,readings:{battery:83,pressure:118,sealevel:24.5,turbidity:8}}]}function t(){return[{id:"battery",name:"Battery",description:"Battery level of buoy",colour:"",units:"%",lowerBound:0,upperBound:100,display:!0,unconfigured:!1},{id:"turbidity",name:"Turbidity",description:"Water quality around buoy",colour:"",units:"g/ml",lowerBound:0,upperBound:70,display:!0,unconfigured:!1},{id:"pressure",name:"",description:"",colour:"",units:"",lowerBound:-1,upperBound:-1,display:!1,unconfigured:!0}]}function n(){}function r(){}return{getReadings:e,getSensors:t,login:n,logout:r}}angular.module("mock.server",[]).factory("server",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhdXRoL2F1dGgubW9kdWxlLmpzIiwiY29uZmlnL2NvbmZpZy5tb2R1bGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLm1vZHVsZS5qcyIsImFwcC5jb25maWcuanMiLCJhcHAuY29uc3RhbnRzLmpzIiwiYXBwLnJvdXRlcy5qcyIsImF1dGgvYXV0aC5jb250cm9sbGVyLmpzIiwiYXBwLmpzIiwiYXV0aC9hdXRoLnNlcnZpY2UuanMiLCJhdXRoL2F1dGhJbnRlcmNlcHRvci5zZXJ2aWNlLmpzIiwiY29uZmlnL2NvbmZpZy5jb250cm9sbGVyLmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5jb250cm9sbGVyLmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5zZXJ2aWNlLmpzIiwiZGFzaGJvYXJkL21hcC5zZXJ2aWNlLmpzIiwic2VydmljZXMvc2VydmVyLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5tb2NrLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkZGF0ZXBpY2tlclByb3ZpZGVyIiwiJHRpbWVwaWNrZXJQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJhdXRvY2xvc2UiLCJkYXRlRm9ybWF0IiwibW9kZWxEYXRlRm9ybWF0IiwiZGF0ZVR5cGUiLCJzdGFydFdlZWsiLCJ0aW1lRm9ybWF0IiwibW9kZWxUaW1lRm9ybWF0IiwidGltZVR5cGUiLCJjb25zdGFudCIsInJ1biIsIiRyb290U2NvcGUiLCIkc3RhdGUiLCIkc3RhdGVQYXJhbXMiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiQXV0aENvbnRyb2xsZXIiLCJhdXRoIiwic2VydmVyIiwibG9naW4iLCJ2bSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ0aGVuIiwicmVzIiwiYXV0aGVkIiwiZ28iLCJyZXNldEZvcm0iLCJhbGVydCIsImxvZ291dCIsInRoaXMiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJuYW1lIiwicHJldmVudERlZmF1bHQiLCJpcyIsIiRpbmplY3QiLCIkd2luZG93IiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInRva2VuIiwiZ2V0VG9rZW4iLCJwYXJhbXMiLCJwYXJzZUp3dCIsIm1vbWVudCIsInVuaXgiLCJleHAiLCJzYXZlVG9rZW4iLCJiYXNlNjRVcmwiLCJzcGxpdCIsImJhc2U2NCIsInJlcGxhY2UiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwiZmFjdG9yeSIsImF1dGhJbnRlcmNlcHRvciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImRhdGEiLCJDb25maWdDb250cm9sbGVyIiwidG9nZ2xlRWRpdCIsImluZGV4Iiwic2Vuc29yc0VkaXQiLCJzZW5zb3JzIiwidW5jb25maWd1cmVkIiwic2Vuc29yVmFsaWQiLCJzZW5zb3IiLCJ1bml0cyIsImdldFNlbnNvcnMiLCJpIiwibGVuZ3RoIiwiRGFzaGJvYXJkQ29udHJvbGxlciIsIiRkb2N1bWVudCIsImRhc2hib2FyZCIsIm1hcCIsInVwZGF0ZUJ1b3lzRmlsdGVyIiwiaWQiLCJlbmFibGVkIiwiYnVveXMiLCJ1cGRhdGVCdW95cyIsInVwZGF0ZVJlYWRpbmdzIiwidXBkYXRlVGltZXNGaWx0ZXIiLCJ0aW1lc0lucHV0c1ZhbGlkIiwibW9tZW50Rm9ybWF0IiwidGltZXMiLCJ0eXBlIiwicmFuZ2UiLCJmcm9tIiwiaW5wdXRzIiwiZGF0ZSIsInRpbWUiLCJ0byIsInBvaW50IiwidXBkYXRlVGltZXMiLCJmcm9tRGF0ZSIsImZyb21UaW1lIiwidG9EYXRlIiwidG9UaW1lIiwidXBkYXRlU2Vuc29yc0ZpbHRlciIsInVwZGF0ZVNlbnNvcnMiLCJpbml0aWFsaXNlIiwidXBkYXRlRmlsdGVycyIsInJlYWR5IiwiaW5pdGlhbGlzZU1hcCIsIiRmaWx0ZXIiLCJwcm9taXNlIiwiZ2V0UmVhZGluZ3MiLCJjb25zb2xlIiwibG9nIiwicmVhZGluZ3MiLCJyZXBvcHVsYXRlRmlsdGVycyIsImluaXRpYWxpc2VGaWx0ZXJzIiwiZmlsdGVycyIsInBvcHVsYXRlQnVveXMiLCJwb2ludFJlYWRpbmdzIiwic2Vuc29ySW5wdXRzIiwicG9wdWxhdGVTZW5zb3JzIiwiaGFzT3duUHJvcGVydHkiLCJidW95IiwiZmlsdGVyZWRSZWFkaW5ncyIsImdldEJ1b3lzIiwiZ2V0VGltZXMiLCJrZXkiLCJkaXNwbGF5IiwiY2FsY3VsYXRlUG9pbnRSZWFkaW5ncyIsIm9wdGlvbnMiLCJzZWxlY3RlZCIsInZhbHVlIiwiZ2V0T2xkZXN0UmVhZGluZyIsIm9sZGVzdCIsInRpbWVzdGFtcCIsImlzQmVmb3JlIiwiYnVveVJlYWRpbmdzIiwicmVhZGluZyIsIm9sZFJlYWRpbmciLCJuZXdSZWFkaW5nIiwiZGlmZk9sZCIsImRpZmYiLCJkaWZmTmV3IiwiTWF0aCIsImFicyIsImZpbHRlckJ1b3lzIiwiZmlsdGVyVGltZXMiLCJmaWx0ZXJTZW5zb3IiLCJpc0JldHdlZW4iLCJwYXJzZUludCIsImdldFJlbGF0aXZlQWdlIiwibWF4IiwibWluIiwiY2xvbmUiLCJzdWJ0cmFjdCIsImNhbGN1bGF0ZUFnZUluUmFuZ2UiLCJub1BvaSIsImZlYXR1cmVUeXBlIiwiZWxlbWVudFR5cGUiLCJzdHlsZXJzIiwidmlzaWJpbGl0eSIsIm1hcE9wdGlvbnMiLCJzdHlsZXMiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZExpc3RlbmVyIiwiem9vbSIsImdldFpvb20iLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJtYXBUeXBlSWQiLCJnZXRNYXBUeXBlSWQiLCJpbmZvQm94T3BlbiIsImNsb3NlSW5mb0JveCIsImFkZE1hcmtlciIsImVuYWJsZWRSZWFkaW5ncyIsIm1hcmtlcnMiLCJpbmRleE9mIiwiZGlzYWJsZU1hcmtlciIsInNldE9wYWNpdHkiLCJjYWxjdWxhdGVPcGFjaXR5IiwiZGlzYWJsZWRNYXJrZXJzIiwiZW5hYmxlTWFya2VyIiwibWFya2VyIiwiTWFya2VyIiwicG9zaXRpb24iLCJMYXRMbmciLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIm9wYWNpdHkiLCJvcGVuSW5mb0JveCIsInNldE1hcCIsImN1cnJlbnRNYXJrZXJJZCIsInNwbGljZSIsImFnZSIsIm1pblZpc2libGVPcGFjaXR5IiwiaW5mb0JveCIsImNsb3NlIiwiZm9ybWF0dGVkVGltZSIsImZvcm1hdCIsImNvbnRlbnQiLCJiYXR0ZXJ5IiwicHJlc3N1cmUiLCJzZWFsZXZlbCIsInR1cmJpZGl0eSIsIkluZm9Cb3giLCJwaXhlbE9mZnNldCIsIlNpemUiLCJ6SW5kZXgiLCJib3hTdHlsZSIsImNvbG9yIiwiYmFja2dyb3VuZC1jb2xvciIsIndpZHRoIiwicGFkZGluZyIsImJvcmRlci1yYWRpdXMiLCJjbG9zZUJveE1hcmdpbiIsIm9wZW4iLCJNYXBUeXBlSWQiLCJST0FETUFQIiwiJGh0dHAiLCJTRVJWRVJfQUREUkVTUyIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiZ2V0IiwiZHVtbXlTZW5zb3JzIiwiZW1haWwiLCJwb3N0IiwiZGVzY3JpcHRpb24iLCJjb2xvdXIiLCJsb3dlckJvdW5kIiwidXBwZXJCb3VuZCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQUVBQSxTQUFBQyxPQUFBLE9BQ0EsWUFDQSxpQkFDQSxvQ0FDQSxvQ0FDQSxzQ0FDQSx5QkFDQSw0QkFDQSw0QkFDQSx3QkFDQSx3QkFDQSxXQUVBLFdBQ0EsZ0JBQ0Esa0JDbEJBLFdBQ0EsWUFFQUQsU0FBQUMsT0FBQSxrQkNIQSxXQUNBLFlBRUFELFNBQUFDLE9BQUEsb0JDSEEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLHVCQ0hBLFdBQ0EsWUFFQUQsU0FBQUMsT0FBQSxPQUNBQyxRQUFBLHNCQUFBLHNCQUFBLGdCQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUFBLEVBQUFDLGFB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LFFBQUEsR0FDQUMsU0FBQSxJQUNBQyxTQUFBLEdBQ0FDLFVBQUEsS0FHQS9ILEdBQUEsRUFDQTBDLEtBQUEsRUFDQVksVUFBQSxXQUNBd0QsU0FBQSxXQUNBQyxVQUFBLFdBQ0E5RSxVQUNBMkYsUUFBQSxHQUNBQyxTQUFBLEdBQ0FDLFNBQUEsR0FDQUMsVUFBQSxNQUdBL0gsR0FBQSxFQUNBMEMsS0FBQSxFQUNBWSxVQUFBLFdBQ0F3RCxTQUFBLFdBQ0FDLFVBQUEsV0FDQTlFLFVBQ0EyRixRQUFBLEdBQ0FDLFNBQUEsR0FDQUMsU0FBQSxHQUNBQyxVQUFBLE1BR0EvSCxHQUFBLEdBQ0EwQyxLQUFBLEVBQ0FZLFVBQUEsV0FDQXdELFNBQUEsYUFDQUMsVUFBQSxhQUNBOUUsVUFDQTJGLFFBQUEsR0FDQUMsU0FBQSxJQUNBQyxTQUFBLEtBQ0FDLFVBQUEsS0FNQSxRQUFBdkksS0FDQSxRQUVBUSxHQUFBLFVBQ0E1QyxLQUFBLFVBQ0FrTSxZQUFBLHdCQUNBQyxPQUFBLEdBQ0FoSyxNQUFBLElBQ0FpSyxXQUFBLEVBQ0FDLFdBQUEsSUFDQTFHLFNBQUEsRUFDQTNELGNBQUEsSUFHQVksR0FBQSxZQUNBNUMsS0FBQSxZQUNBa00sWUFBQSw0QkFDQUMsT0FBQSxHQUNBaEssTUFBQSxPQUNBaUssV0FBQSxFQUNBQyxXQUFBLEdBQ0ExRyxTQUFBLEVBQ0EzRCxjQUFBLElBR0FZLEdBQUEsV0FDQTVDLEtBQUEsR0FDQWtNLFlBQUEsR0FDQUMsT0FBQSxHQUNBaEssTUFBQSxHQUNBaUssV0FBQSxHQUNBQyxXQUFBLEdBQ0ExRyxTQUFBLEVBQ0EzRCxjQUFBLElBS0EsUUFBQS9DLE1BSUEsUUFBQVUsTUFuSEEsT0FDQStFLFlBQUFBLEVBQ0F0QyxXQUFBQSxFQUNBbkQsTUFBQUEsRUFDQVUsT0FBQUEsR0FUQTVDLFFBQUFDLE9BQUEsa0JBQ0FzRSxRQUFBLFNBQUF0QyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcbiAgICAgICAgJ3VpLnJvdXRlcicsXHJcbiAgICAgICAgJ21nY3JlYS5uZ1N0cmFwJyxcclxuICAgICAgICAnbWdjcmVhLm5nU3RyYXAuaGVscGVycy5kaW1lbnNpb25zJyxcclxuICAgICAgICAnbWdjcmVhLm5nU3RyYXAuaGVscGVycy5kYXRlUGFyc2VyJyxcclxuICAgICAgICAnbWdjcmVhLm5nU3RyYXAuaGVscGVycy5wYXJzZU9wdGlvbnMnLFxyXG4gICAgICAgICdtZ2NyZWEubmdTdHJhcC50b29sdGlwJyxcclxuICAgICAgICAnbWdjcmVhLm5nU3RyYXAuZGF0ZXBpY2tlcicsXHJcbiAgICAgICAgJ21nY3JlYS5uZ1N0cmFwLnRpbWVwaWNrZXInLFxyXG4gICAgICAgICdtZ2NyZWEubmdTdHJhcC5idXR0b24nLFxyXG4gICAgICAgICdtZ2NyZWEubmdTdHJhcC5zZWxlY3QnLFxyXG4gICAgICAgICdjaGFydC5qcycsXHJcbiAgICAgICAgXHJcbiAgICAgICAgJ2FwcC5hdXRoJyxcclxuICAgICAgICAnYXBwLmRhc2hib2FyZCcsXHJcbiAgICAgICAgJ2FwcC5jb25maWcnXHJcbiAgICBdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdFxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXV0aCcsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdFxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29uZmlnJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5kYXNoYm9hcmQnLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb25maWcoZnVuY3Rpb24oJGRhdGVwaWNrZXJQcm92aWRlciwgJHRpbWVwaWNrZXJQcm92aWRlciwgJGh0dHBQcm92aWRlcikge1xyXG5cdFx0XHRcclxuXHRcdFx0JGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnYXV0aEludGVyY2VwdG9yJyk7XHJcblx0XHRcdFxyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZCgkZGF0ZXBpY2tlclByb3ZpZGVyLmRlZmF1bHRzLCB7XHJcblx0XHRcdFx0YXV0b2Nsb3NlOiB0cnVlLFxyXG5cdFx0XHRcdGRhdGVGb3JtYXQ6ICdkL00veXknLFxyXG5cdFx0XHRcdG1vZGVsRGF0ZUZvcm1hdDogJ2QvTS95eScsXHJcblx0XHRcdFx0ZGF0ZVR5cGU6ICdzdHJpbmcnLFxyXG5cdFx0XHRcdHN0YXJ0V2VlazogMVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKCR0aW1lcGlja2VyUHJvdmlkZXIuZGVmYXVsdHMsIHtcclxuXHRcdFx0XHRhdXRvY2xvc2U6IGZhbHNlLFxyXG5cdFx0XHRcdHRpbWVGb3JtYXQ6ICdoOm1tIGEnLFxyXG5cdFx0XHRcdG1vZGVsVGltZUZvcm1hdDogJ2g6bW0gYScsXHJcblx0XHRcdFx0dGltZVR5cGU6ICdzdHJpbmcnXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb25zdGFudCgnU0VSVkVSX0FERFJFU1MnLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHRcdC5ydW4oZnVuY3Rpb24oJHJvb3RTY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMpIHtcclxuXHRcdFx0Ly8gYWxsb3cgYWNjZXNzIHRvIHN0YXRlIGZyb20gYW55IHNjb3BlcywgdXNlZnVsIGZvciBjc3Mgb24gbmF2aWdhdGlvblxyXG5cdFx0XHQkcm9vdFNjb3BlLiRzdGF0ZSA9ICRzdGF0ZTtcclxuXHRcdFx0JHJvb3RTY29wZS4kc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XHJcblx0XHR9KVxyXG5cdFx0XHJcblx0XHQuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHRcdFx0XHJcblx0XHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9kYXNoYm9hcmQnKTtcclxuXHRcdFx0XHJcblx0XHRcdCRzdGF0ZVByb3ZpZGVyXHJcblx0XHRcdFx0LnN0YXRlKCdsb2dpbicsIHtcclxuXHRcdFx0XHRcdHVybDogJy9sb2dpbicsXHJcblx0XHRcdFx0XHQvLyBjb250cm9sbGVyOiAnQXV0aENvbnRyb2xsZXInLCBub3cgdXNlcyBwYXJlbnQgY29udHJvbGxlclxyXG5cdFx0XHRcdFx0Ly8gY29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvYXBwL2F1dGgvbG9naW4uaHRtbCdcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5zdGF0ZSgnZGFzaGJvYXJkJywge1xyXG5cdFx0XHRcdFx0dXJsOiAnL2Rhc2hib2FyZCcsXHJcblx0XHRcdFx0XHRjb250cm9sbGVyOiAnRGFzaGJvYXJkQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5odG1sJ1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LnN0YXRlKCdjb25maWcnLCB7XHJcblx0XHRcdFx0XHR1cmw6ICcvY29uZmlnJyxcclxuXHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdDb25maWdDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL2FwcC9jb25maWcvY29uZmlnLmh0bWwnXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuc3RhdGUoJ3dhcm5pbmdzJywge1xyXG5cdFx0XHRcdFx0dXJsOiAnL3dhcm5pbmdzJ1xyXG5cdFx0XHRcdFx0Ly8gY29udHJvbGxlcjogJ1dhcm5pbmdzQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHQvLyBjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0XHQvLyB0ZW1wbGF0ZVVybDogJy9hcHAvd2FybmluZ3Mvd2FybmluZ3MuaHRtbCdcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hdXRoJylcclxuXHRcdC5jb250cm9sbGVyKCdBdXRoQ29udHJvbGxlcicsIEF1dGhDb250cm9sbGVyKTtcclxuXHRcclxuXHRmdW5jdGlvbiBBdXRoQ29udHJvbGxlcigkcm9vdFNjb3BlLCAkc3RhdGUsIGF1dGgsIHNlcnZlcikge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdFxyXG5cdFx0dm0uYXV0aGVkID0gYXV0aC5hdXRoZWQoKTtcclxuXHRcdHZtLmxvZ2luID0gbG9naW47XHJcblx0XHR2bS5sb2dvdXQgPSBsb2dvdXQ7XHJcblx0XHRcclxuXHRcdHJlc2V0Rm9ybSgpO1xyXG5cdFx0XHJcblx0XHQvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIGlmIG5vdCBsb2dnZWQgaW4sIG90aGVyd2lzZSByZWRpcmVjdCBmcm9tIGxvZ2luIHBhZ2VcclxuXHRcdCRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlKSB7XHJcblx0XHRcdGlmIChhdXRoLmF1dGhlZCgpKSB7XHJcblx0XHRcdFx0aWYgKHRvU3RhdGUubmFtZSA9PSAnbG9naW4nKSB7XHJcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0aWYgKCRzdGF0ZS5pcygnbG9naW4nKSkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2Rhc2hib2FyZCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodG9TdGF0ZS5uYW1lICE9ICdsb2dpbicpIHtcclxuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHQkc3RhdGUuZ28oJ2xvZ2luJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gbG9naW4oKSB7XHJcblx0XHRcdHNlcnZlci5sb2dpbih2bS51c2VybmFtZSwgdm0ucGFzc3dvcmQpLnRoZW4oXHJcblx0XHRcdGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdGlmIChhdXRoLmF1dGhlZCgpKSB7XHJcblx0XHRcdFx0XHR2bS5hdXRoZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0JHN0YXRlLmdvKCdkYXNoYm9hcmQnKTtcclxuXHRcdFx0XHRcdHJlc2V0Rm9ybSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0fSxcclxuXHRcdFx0ZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0YWxlcnQoJ0ludmFsaWQgdXNlcm5hbWUgb3IgcGFzc3dvcmQnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGxvZ291dCgpIHtcclxuXHRcdFx0c2VydmVyLmxvZ291dCgpO1xyXG5cdFx0XHR2bS5hdXRoZWQgPSBmYWxzZTtcclxuXHRcdFx0JHN0YXRlLmdvKCdsb2dpbicpO1x0XHRcdFxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiByZXNldEZvcm0oKSB7XHJcblx0XHRcdHZtLnVzZXJuYW1lID0gXCJpbWFmYWtlXCI7IC8vIG9idmlvdXNseSBnZXQgcmlkIG9mIHRoZXNlXHJcblx0XHRcdHZtLnBhc3N3b3JkID0gXCJla2FmYW1pXCI7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpOyIsbnVsbCwiLyogZ2xvYmFsIG1vbWVudCAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdFxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXV0aCcpXHJcblx0XHQuZmFjdG9yeSgnYXV0aCcsIGF1dGgpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGF1dGgoJHdpbmRvdykge1xyXG5cdFx0XHJcblx0XHRcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxvZ2luOiBsb2dpbixcclxuXHRcdFx0bG9nb3V0OiBsb2dvdXQsXHJcblx0XHRcdGF1dGhlZDogYXV0aGVkLFxyXG5cdFx0XHRnZXRUb2tlbjogZ2V0VG9rZW4sXHJcblx0XHRcdHNhdmVUb2tlbjogc2F2ZVRva2VuXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGxvZ291dCgpIHtcclxuXHRcdFx0JHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gYXV0aGVkKCkge1xyXG5cdFx0XHR2YXIgdG9rZW4gPSBnZXRUb2tlbigpO1xyXG5cdFx0XHRpZih0b2tlbikge1xyXG5cdFx0XHRcdHZhciBwYXJhbXMgPSBwYXJzZUp3dCh0b2tlbik7XHJcblx0XHRcdFx0cmV0dXJuIChtb21lbnQoKS51bml4KCkgPD0gcGFyYW1zLmV4cCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcdFxyXG5cdFx0ZnVuY3Rpb24gc2F2ZVRva2VuKHRva2VuKSB7XHJcblx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlWyd0b2tlbiddID0gdG9rZW47XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldFRva2VuKHRva2VuKSB7XHJcblx0XHRcdHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZVsndG9rZW4nXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gcGFyc2VKd3QodG9rZW4pIHtcclxuXHRcdFx0dmFyIGJhc2U2NFVybCA9IHRva2VuLnNwbGl0KCcuJylbMV07XHJcblx0XHRcdHZhciBiYXNlNjQgPSBiYXNlNjRVcmwucmVwbGFjZSgnLScsICcrJykucmVwbGFjZSgnXycsICcvJyk7XHJcblx0XHRcdHJldHVybiBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYihiYXNlNjQpKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmF1dGgnKVxyXG5cdFx0LmZhY3RvcnkoJ2F1dGhJbnRlcmNlcHRvcicsIGF1dGhJbnRlcmNlcHRvcik7XHJcblx0XHJcblx0ZnVuY3Rpb24gYXV0aEludGVyY2VwdG9yKGF1dGgpIHtcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXF1ZXN0OiByZXF1ZXN0LFxyXG5cdFx0XHRyZXNwb25zZTogcmVzcG9uc2VcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XHJcblx0XHRcdHJldHVybiBjb25maWc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHJlc3BvbnNlKHJlcykge1xyXG5cdFx0XHRpZiAocmVzLmRhdGEudG9rZW4pIHtcclxuXHRcdFx0XHRhdXRoLnNhdmVUb2tlbihyZXMuZGF0YS50b2tlbik7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcztcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdFxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29uZmlnJylcclxuXHRcdC5jb250cm9sbGVyKCdDb25maWdDb250cm9sbGVyJywgQ29uZmlnQ29udHJvbGxlcik7XHJcblx0XHJcblx0ZnVuY3Rpb24gQ29uZmlnQ29udHJvbGxlcihzZXJ2ZXIpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHRcclxuXHRcdHZtLnNlbnNvcnMgPSBzZXJ2ZXIuZ2V0U2Vuc29ycygpO1xyXG5cdFx0dm0uc2Vuc29yc0VkaXQgPSBbXTtcclxuXHRcdHZtLnRvZ2dsZUVkaXQgPSB0b2dnbGVFZGl0O1xyXG5cdFx0dm0uc2Vuc29yVmFsaWQgPSBzZW5zb3JWYWxpZDtcclxuXHRcdFxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2bS5zZW5zb3JzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZtLnNlbnNvcnNFZGl0LnB1c2goZmFsc2UpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB0b2dnbGVFZGl0KGluZGV4KSB7XHJcblx0XHRcdGlmICh2bS5zZW5zb3JzRWRpdFtpbmRleF0pIHtcclxuXHRcdFx0XHR2bS5zZW5zb3JzW2luZGV4XS51bmNvbmZpZ3VyZWQgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHR2bS5zZW5zb3JzRWRpdFtpbmRleF0gPSAhdm0uc2Vuc29yc0VkaXRbaW5kZXhdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBzZW5zb3JWYWxpZChzZW5zb3IpIHtcclxuXHRcdFx0aWYgKCFzZW5zb3IubmFtZSB8fCAhc2Vuc29yLnVuaXRzKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHRcdFx0XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdFxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZGFzaGJvYXJkJylcclxuXHRcdC5jb250cm9sbGVyKCdEYXNoYm9hcmRDb250cm9sbGVyJywgRGFzaGJvYXJkQ29udHJvbGxlcik7XHJcblx0XHRcclxuXHRmdW5jdGlvbiBEYXNoYm9hcmRDb250cm9sbGVyKCRkb2N1bWVudCwgZGFzaGJvYXJkLCBtYXApIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHRcdFxyXG5cdFx0dm0uYnVveXMgPSBkYXNoYm9hcmQuYnVveXMoKTtcclxuXHRcdHZtLnRpbWVzID0gZGFzaGJvYXJkLnRpbWVzKCk7XHJcblx0XHR2bS5zZW5zb3JzID0gZGFzaGJvYXJkLnNlbnNvcnMoKTtcclxuXHRcdHZtLnVwZGF0ZUJ1b3lzRmlsdGVyID0gdXBkYXRlQnVveXNGaWx0ZXI7XHJcblx0XHR2bS51cGRhdGVUaW1lc0ZpbHRlciA9IHVwZGF0ZVRpbWVzRmlsdGVyO1xyXG5cdFx0dm0udXBkYXRlU2Vuc29yc0ZpbHRlciA9IHVwZGF0ZVNlbnNvcnNGaWx0ZXI7XHJcblx0XHRcclxuXHRcdGRhc2hib2FyZC5pbml0aWFsaXNlKCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0dm0uYnVveXMgPSBkYXNoYm9hcmQuYnVveXMoKTtcclxuXHRcdFx0dm0udGltZXMgPSBkYXNoYm9hcmQudGltZXMoKTtcclxuXHRcdFx0dm0uc2Vuc29ycyA9IGRhc2hib2FyZC5zZW5zb3JzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRkYXNoYm9hcmQudXBkYXRlRmlsdGVycygpO1xyXG5cdFx0XHRtYXAudXBkYXRlUmVhZGluZ3MoKTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHR2YXIgZGF0ZUZvcm1hdCA9IFwiRC9NL1lZXCI7XHJcblx0XHR2YXIgdGltZUZvcm1hdCA9IFwiaDptbSBBXCI7XHJcblx0XHRcdFxyXG5cdFx0JGRvY3VtZW50LnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRtYXAuaW5pdGlhbGlzZU1hcCgpO1xyXG5cdFx0XHQvLyBkYXNoYm9hcmQudXBkYXRlRmlsdGVycygpO1xyXG5cdFx0XHQvLyBtYXAudXBkYXRlUmVhZGluZ3MoKTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVCdW95c0ZpbHRlcihpZCwgZW5hYmxlZCkge1xyXG5cdFx0XHR2bS5idW95c1tpZF0gPSBlbmFibGVkO1xyXG5cdFx0XHRkYXNoYm9hcmQudXBkYXRlQnVveXMoKTtcclxuXHRcdFx0bWFwLnVwZGF0ZVJlYWRpbmdzKCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVRpbWVzRmlsdGVyKCkge1xyXG5cdFx0XHQvLyBjb252ZXJ0IGlucHV0IHN0cmluZ3MgdG8gbW9tZW50cyBcclxuXHRcdFx0Ly8gYW5kIHVwZGF0ZSB2bS50aW1lcywgd2hpY2ggdXBkYXRlcyByZWZlcmVuY2UgaW4gZGFzaGJvYXJkIHNlcnZpY2VcclxuXHRcdFx0aWYgKHRpbWVzSW5wdXRzVmFsaWQoKSkge1xyXG5cdFx0XHRcdHZhciBtb21lbnRGb3JtYXQgPSBkYXRlRm9ybWF0ICsgXCIgXCIgKyB0aW1lRm9ybWF0O1xyXG5cdFx0XHRcdGlmICh2bS50aW1lcy50eXBlID09ICdyYW5nZScpIHtcclxuXHRcdFx0XHRcdHZtLnRpbWVzLnJhbmdlLmZyb20gPSBtb21lbnQodm0udGltZXMuaW5wdXRzLnJhbmdlLmZyb20uZGF0ZVxyXG5cdFx0XHRcdFx0XHQrIFwiIFwiICsgdm0udGltZXMuaW5wdXRzLnJhbmdlLmZyb20udGltZSwgbW9tZW50Rm9ybWF0KTtcclxuXHRcdFx0XHRcdHZtLnRpbWVzLnJhbmdlLnRvID0gbW9tZW50KHZtLnRpbWVzLmlucHV0cy5yYW5nZS50by5kYXRlXHJcblx0XHRcdFx0XHRcdCsgXCIgXCIgKyB2bS50aW1lcy5pbnB1dHMucmFuZ2UudG8udGltZSwgbW9tZW50Rm9ybWF0KTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHZtLnRpbWVzLnR5cGUgPT0gJ3BvaW50Jykge1xyXG5cdFx0XHRcdFx0dm0udGltZXMucG9pbnQgPSBtb21lbnQodm0udGltZXMuaW5wdXRzLnBvaW50LmRhdGVcclxuXHRcdFx0XHRcdFx0KyBcIiBcIiArIHZtLnRpbWVzLmlucHV0cy5wb2ludC50aW1lLCBtb21lbnRGb3JtYXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRkYXNoYm9hcmQudXBkYXRlVGltZXMoKTtcclxuXHRcdFx0XHRtYXAudXBkYXRlUmVhZGluZ3MoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB0aW1lc0lucHV0c1ZhbGlkKCkge1xyXG5cdFx0XHRpZiAodm0udGltZXMudHlwZSA9PSAnYWxsJykge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh2bS50aW1lcy50eXBlID09ICdyYW5nZScpIHtcclxuXHRcdFx0XHQvLyB2YWxpZCBjb21iaW5hdGlvbnM6IGFsbCBmaWxsZWQsIGRhdGVzIGZpbGxlZCwgdGltZXMgZmlsbGVkXHJcblx0XHRcdFx0dmFyIGZyb21EYXRlID0gdm0udGltZXMuaW5wdXRzLnJhbmdlLmZyb20uZGF0ZTtcclxuXHRcdFx0XHR2YXIgZnJvbVRpbWUgPSB2bS50aW1lcy5pbnB1dHMucmFuZ2UuZnJvbS50aW1lO1xyXG5cdFx0XHRcdHZhciB0b0RhdGUgPSB2bS50aW1lcy5pbnB1dHMucmFuZ2UudG8uZGF0ZTtcclxuXHRcdFx0XHR2YXIgdG9UaW1lID0gdm0udGltZXMuaW5wdXRzLnJhbmdlLnRvLnRpbWU7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKGZyb21EYXRlICYmIGZyb21UaW1lICYmIHRvRGF0ZSAmJiB0b1RpbWUpIHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdC8vIGlmIChmcm9tRGF0ZSAmJiAhZnJvbVRpbWUgJiYgdG9EYXRlICYmICF0b1RpbWUpIHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdC8vIGlmIChmcm9tRGF0ZSAmJiBmcm9tVGltZSAmJiB0b0RhdGUgJiYgdG9UaW1lKSByZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodm0udGltZXMudHlwZSA9PSAncG9pbnQnKSB7XHJcblx0XHRcdFx0Ly8gbXVzdCBoYXZlIGRhdGUsIHRpbWUgaXMgb3B0aW9uYWxcclxuXHRcdFx0XHRpZiAodm0udGltZXMuaW5wdXRzLnBvaW50LmRhdGUpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVTZW5zb3JzRmlsdGVyKCkge1xyXG5cdFx0XHRkYXNoYm9hcmQudXBkYXRlU2Vuc29ycygpO1xyXG5cdFx0XHRtYXAudXBkYXRlUmVhZGluZ3MoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmRhc2hib2FyZCcpXHJcblx0XHQuZmFjdG9yeSgnZGFzaGJvYXJkJywgZGFzaGJvYXJkKTtcclxuXHRcdFxyXG5cdGZ1bmN0aW9uIGRhc2hib2FyZCgkZmlsdGVyLCBzZXJ2ZXIpIHtcclxuXHRcdHZhciByZWFkaW5ncyA9IFtdO1xyXG5cdFx0dmFyIGZpbHRlcmVkUmVhZGluZ3MgPSBbXTtcclxuXHRcdFxyXG5cdFx0dmFyIGZpbHRlcnMgPSB7fTtcclxuXHRcdGluaXRpYWxpc2VGaWx0ZXJzKCk7XHJcblx0XHRcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGluaXRpYWxpc2U6IGluaXRpYWxpc2UsXHJcblx0XHRcdHJlYWRpbmdzOiBnZXRSZWFkaW5ncyxcclxuXHRcdFx0YnVveXM6IGdldEJ1b3lzLFxyXG5cdFx0XHR0aW1lczogZ2V0VGltZXMsXHJcblx0XHRcdHNlbnNvcnM6IGdldFNlbnNvcnMsXHJcblx0XHRcdHVwZGF0ZUJ1b3lzOiB1cGRhdGVCdW95cyxcclxuXHRcdFx0dXBkYXRlVGltZXM6IHVwZGF0ZVRpbWVzLFxyXG5cdFx0XHR1cGRhdGVGaWx0ZXJzOiB1cGRhdGVGaWx0ZXJzLFxyXG5cdFx0XHR1cGRhdGVTZW5zb3JzOiB1cGRhdGVTZW5zb3JzLFxyXG5cdFx0XHRnZXRPbGRlc3RSZWFkaW5nOiBnZXRPbGRlc3RSZWFkaW5nLFxyXG5cdFx0XHRnZXRSZWxhdGl2ZUFnZTogZ2V0UmVsYXRpdmVBZ2VcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGluaXRpYWxpc2UoKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gc2VydmVyLmdldFJlYWRpbmdzKCk7XHJcblx0XHRcdHByb21pc2UudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xyXG5cdFx0XHRcdHJlYWRpbmdzID0gcmVzLmRhdGE7XHJcblx0XHRcdFx0cmVwb3B1bGF0ZUZpbHRlcnMoKTtcclxuXHRcdFx0fSwgZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yJyk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2cocmVzKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiBwcm9taXNlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBpbml0aWFsaXNlRmlsdGVycygpIHtcclxuXHRcdFx0ZmlsdGVycy5idW95cyA9IHt9OyAvLyB7IGJ1b3lJZDogZW5hYmxlZCB9XHJcblx0XHRcdHBvcHVsYXRlQnVveXMoKTtcclxuXHRcdFx0XHJcblx0XHRcdGZpbHRlcnMudGltZXMgPSB7XHJcblx0XHRcdFx0dHlwZTogXCJhbGxcIixcclxuXHRcdFx0XHRyYW5nZTogeyBmcm9tOiBudWxsLCB0bzogbnVsbCB9LCAvLyBmcm9tIGFuZCB0byBjb250YWluIG1vbWVudHNcclxuXHRcdFx0XHRwb2ludDogbnVsbCxcclxuXHRcdFx0XHRwb2ludFJlYWRpbmdzOiB7fSwgLy8gY29udGFpbnMgbGlzdCBvZiBjbG9zZXN0IHJlYWRpbmdzIHRvIHBvaW50XHJcblx0XHRcdFx0aW5wdXRzOiB7XHJcblx0XHRcdFx0XHRyYW5nZToge1xyXG5cdFx0XHRcdFx0XHRmcm9tOiB7IGRhdGU6IFwiXCIsIHRpbWU6IFwiXCIgfSxcclxuXHRcdFx0XHRcdFx0dG86IHsgZGF0ZTogXCJcIiwgdGltZTogXCJcIiB9LFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHBvaW50OiB7IGRhdGU6IFwiXCIsIHRpbWU6IFwiXCIgfSxcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGZpbHRlcnMuc2Vuc29ycyA9IHt9O1xyXG5cdFx0XHRmaWx0ZXJzLnNlbnNvcklucHV0cyA9IHt9O1xyXG5cdFx0XHRwb3B1bGF0ZVNlbnNvcnMoKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gcmVwb3B1bGF0ZUZpbHRlcnMoKSB7XHJcblx0XHRcdHBvcHVsYXRlQnVveXMoKTtcclxuXHRcdFx0cG9wdWxhdGVTZW5zb3JzKCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHBvcHVsYXRlQnVveXMoKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcmVhZGluZ3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoIWZpbHRlcnMuYnVveXMuaGFzT3duUHJvcGVydHkocmVhZGluZ3NbaV0uYnVveSkpIHtcclxuXHRcdFx0XHRcdGZpbHRlcnMuYnVveXNbcmVhZGluZ3NbaV0uYnVveV0gPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlYWRpbmdzKCkge1xyXG5cdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWFkaW5ncztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gZ2V0QnVveXMoKSB7XHJcblx0XHRcdHJldHVybiBmaWx0ZXJzLmJ1b3lzO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRUaW1lcygpIHtcclxuXHRcdFx0cmV0dXJuIGZpbHRlcnMudGltZXM7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldFNlbnNvcnMoKSB7XHJcblx0XHRcdHBvcHVsYXRlU2Vuc29ycygpO1xyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gZmlsdGVycy5zZW5zb3JJbnB1dHMpIHtcclxuXHRcdFx0XHRpZiAoZmlsdGVycy5zZW5zb3JJbnB1dHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0ZmlsdGVycy5zZW5zb3JzW2tleV0uaW5wdXRzID0gZmlsdGVycy5zZW5zb3JJbnB1dHNba2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHNlbnNvcnMgPSBbXTsgXHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBmaWx0ZXJzLnNlbnNvcnMpIHtcclxuXHRcdFx0XHRpZiAoZmlsdGVycy5zZW5zb3JzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdGlmIChmaWx0ZXJzLnNlbnNvcnNba2V5XS5kaXNwbGF5KSB7XHJcblx0XHRcdFx0XHRcdHNlbnNvcnMucHVzaChmaWx0ZXJzLnNlbnNvcnNba2V5XSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBzZW5zb3JzO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVCdW95cygpIHtcclxuXHRcdFx0dXBkYXRlRmlsdGVycygpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUaW1lcygpIHtcclxuXHRcdFx0aWYgKGZpbHRlcnMudGltZXMudHlwZSA9PSAncG9pbnQnKSB7XHJcblx0XHRcdFx0Y2FsY3VsYXRlUG9pbnRSZWFkaW5ncygpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHVwZGF0ZUZpbHRlcnMoKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlU2Vuc29ycygpIHtcclxuXHRcdFx0dXBkYXRlRmlsdGVycygpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBwb3B1bGF0ZVNlbnNvcnMoKSB7XHJcblx0XHRcdHZhciBzZW5zb3JzID0gc2VydmVyLmdldFNlbnNvcnMoKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzZW5zb3JzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0ZmlsdGVycy5zZW5zb3JzW3NlbnNvcnNbaV0uaWRdID0gc2Vuc29yc1tpXTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoIWZpbHRlcnMuc2Vuc29ySW5wdXRzLmhhc093blByb3BlcnR5KHNlbnNvcnNbaV0uaWQpKSB7XHJcblx0XHRcdFx0XHRmaWx0ZXJzLnNlbnNvcklucHV0c1tzZW5zb3JzW2ldLmlkXSA9IHtcclxuXHRcdFx0XHRcdFx0ZW5hYmxlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdG9wdGlvbnM6IFtcIj5cIiwgXCI8XCIsIFwiPVwiXSxcclxuXHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IFwiPlwiLFxyXG5cdFx0XHRcdFx0XHR2YWx1ZTogXCJcIlxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBkaXNhYmxlIGlucHV0cyB3aGljaCBhcmVuJ3Qgc2V0IHRvIGRpc3BsYXlcclxuXHRcdFx0XHRpZiAoIXNlbnNvcnNbaV0uZGlzcGxheSkge1xyXG5cdFx0XHRcdFx0ZmlsdGVycy5zZW5zb3JJbnB1dHNbc2Vuc29yc1tpXS5pZF0uZW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldE9sZGVzdFJlYWRpbmcoKSB7XHJcblx0XHRcdHZhciByZWFkaW5ncyA9IGZpbHRlcmVkUmVhZGluZ3M7XHJcblx0XHRcdHZhciBvbGRlc3QgPSBtb21lbnQudW5peChyZWFkaW5nc1swXS50aW1lc3RhbXApO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMTsgaSA8IHJlYWRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKG1vbWVudC51bml4KHJlYWRpbmdzW2ldLnRpbWVzdGFtcCkuaXNCZWZvcmUob2xkZXN0KSkge1xyXG5cdFx0XHRcdFx0b2xkZXN0ID0gbW9tZW50LnVuaXgocmVhZGluZ3NbaV0udGltZXN0YW1wKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG9sZGVzdDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gY2FsY3VsYXRlUG9pbnRSZWFkaW5ncygpIHtcclxuXHRcdFx0dmFyIGJ1b3lSZWFkaW5ncyA9IHt9O1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlYWRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIHJlYWRpbmcgPSByZWFkaW5nc1tpXTtcclxuXHRcdFx0XHRpZiAoYnVveVJlYWRpbmdzLmhhc093blByb3BlcnR5KHJlYWRpbmcuYnVveSkpIHtcclxuXHRcdFx0XHRcdC8vIGRldGVybWluZSB3aGljaCByZWFkaW5nIGlzIGNsb3NlciB0byBwb2ludFxyXG5cdFx0XHRcdFx0dmFyIG9sZFJlYWRpbmcgPSBidW95UmVhZGluZ3NbcmVhZGluZy5idW95XS50aW1lO1xyXG5cdFx0XHRcdFx0dmFyIG5ld1JlYWRpbmcgPSByZWFkaW5nLnRpbWVzdGFtcDtcclxuXHRcdFx0XHRcdFx0XHQgXHJcblx0XHRcdFx0XHR2YXIgZGlmZk9sZCA9IG1vbWVudC51bml4KG9sZFJlYWRpbmcpLmRpZmYoZmlsdGVycy50aW1lcy5wb2ludCk7XHJcblx0XHRcdFx0XHR2YXIgZGlmZk5ldyA9IG1vbWVudC51bml4KG5ld1JlYWRpbmcpLmRpZmYoZmlsdGVycy50aW1lcy5wb2ludCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGlmIChNYXRoLmFicyhkaWZmTmV3KSA8IE1hdGguYWJzKGRpZmZPbGQpKSB7XHJcblx0XHRcdFx0XHRcdGJ1b3lSZWFkaW5nc1tyZWFkaW5nLmJ1b3ldID0ge1xyXG5cdFx0XHRcdFx0XHRcdGlkOiByZWFkaW5nLmlkLFxyXG5cdFx0XHRcdFx0XHRcdHRpbWU6IHJlYWRpbmcudGltZXN0YW1wXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9IFxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRidW95UmVhZGluZ3NbcmVhZGluZy5idW95XSA9IHtcclxuXHRcdFx0XHRcdFx0aWQ6IHJlYWRpbmcuaWQsXHJcblx0XHRcdFx0XHRcdHRpbWU6IHJlYWRpbmcudGltZXN0YW1wXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRmaWx0ZXJzLnRpbWVzLnBvaW50UmVhZGluZ3MgPSBidW95UmVhZGluZ3M7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUZpbHRlcnMoKSB7XHJcblx0XHRcdGZpbHRlcmVkUmVhZGluZ3MgPSAkZmlsdGVyKCdmaWx0ZXInKShyZWFkaW5ncywgZnVuY3Rpb24ocmVhZGluZykge1xyXG5cdFx0XHRcdGlmICghZmlsdGVyQnVveXMocmVhZGluZykpIHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRpZiAoIWZpbHRlclRpbWVzKHJlYWRpbmcpKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGZpbHRlcnMuc2Vuc29ySW5wdXRzKSB7XHJcblx0XHRcdFx0XHRpZiAoZmlsdGVycy5zZW5zb3JJbnB1dHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIWZpbHRlclNlbnNvcihrZXksIGZpbHRlcnMuc2Vuc29ySW5wdXRzW2tleV0sIHJlYWRpbmcpKSBcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gZmlsdGVyQnVveXMocmVhZGluZykge1xyXG5cdFx0XHRpZiAoIWZpbHRlcnMuYnVveXNbcmVhZGluZy5idW95XSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gZmlsdGVyVGltZXMocmVhZGluZykge1xyXG5cdFx0XHRpZiAoZmlsdGVycy50aW1lcy50eXBlID09ICdyYW5nZScpIHtcclxuXHRcdFx0XHR2YXIgdGltZSA9IG1vbWVudC51bml4KHJlYWRpbmcudGltZXN0YW1wKTtcclxuXHRcdFx0XHRpZiAoIXRpbWUuaXNCZXR3ZWVuKGZpbHRlcnMudGltZXMucmFuZ2UuZnJvbSwgZmlsdGVycy50aW1lcy5yYW5nZS50bykpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoZmlsdGVycy50aW1lcy50eXBlID09ICdwb2ludCcpIHtcclxuXHRcdFx0XHRpZiAoZmlsdGVycy50aW1lcy5wb2ludFJlYWRpbmdzLmhhc093blByb3BlcnR5KHJlYWRpbmcuYnVveSkpIHtcclxuXHRcdFx0XHRcdGlmIChmaWx0ZXJzLnRpbWVzLnBvaW50UmVhZGluZ3NbcmVhZGluZy5idW95XS5pZCAhPSByZWFkaW5nLmlkKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGZpbHRlclNlbnNvcihpZCwgc2Vuc29yLCByZWFkaW5nKSB7XHJcblx0XHRcdGlmICghc2Vuc29yLmVuYWJsZWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgdmFsdWUgPSBwYXJzZUludChzZW5zb3IudmFsdWUsIDEwKTtcclxuXHRcdFx0aWYgKHNlbnNvci5zZWxlY3RlZCA9PSBcIj5cIikge1xyXG5cdFx0XHRcdGlmIChyZWFkaW5nLnJlYWRpbmdzW2lkXSA8PSB2YWx1ZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChzZW5zb3Iuc2VsZWN0ZWQgPT0gXCI8XCIpIHtcclxuXHRcdFx0XHRpZiAocmVhZGluZy5yZWFkaW5nc1tpZF0gPj0gdmFsdWUpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoc2Vuc29yLnNlbGVjdGVkID09IFwiPVwiKSB7XHJcblx0XHRcdFx0aWYgKHJlYWRpbmcucmVhZGluZ3NbaWRdICE9IHZhbHVlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRSZWxhdGl2ZUFnZShyZWFkaW5nKSB7XHJcblx0XHRcdC8vIHJldHVybnMgYWdlIGJldHdlZW4gMCBhbmQgMSwgYmFzZWQgb24gYSByYW5nZSBkZXRlcm1pbmVkIGFzIHNlZW4gYmVsb3dcclxuXHRcdFx0dmFyIHRpbWUgPSBtb21lbnQudW5peChyZWFkaW5nLnRpbWVzdGFtcCk7XHJcblx0XHRcdHZhciB0aW1lcyA9IGZpbHRlcnMudGltZXM7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAodGltZXMudHlwZSA9PSAnYWxsJykge1xyXG5cdFx0XHRcdC8vIHJhbmdlOiBmcm9tIDIgd2Vla3MgYWdvIHVudGlsIG5vd1xyXG5cdFx0XHRcdHZhciBtYXggPSBtb21lbnQoKTtcclxuXHRcdFx0XHR2YXIgbWluID0gbWF4LmNsb25lKCkuc3VidHJhY3QoMiwgJ3dlZWtzJyk7XHJcblx0XHRcdFx0cmV0dXJuIGNhbGN1bGF0ZUFnZUluUmFuZ2UodGltZSwgbWluLCBtYXgpO1xyXG5cdFx0XHRcclxuXHRcdFx0fSBlbHNlIGlmICh0aW1lcy50eXBlID09ICdyYW5nZScpIHtcclxuXHRcdFx0XHQvLyByYW5nZTogcmFuZ2Ugb2YgdGltZSBmaWx0ZXJzXHJcblx0XHRcdFx0dmFyIG1heCA9IHRpbWVzLnJhbmdlLnRvO1xyXG5cdFx0XHRcdHZhciBtaW4gPSB0aW1lcy5yYW5nZS5mcm9tO1xyXG5cdFx0XHRcdHJldHVybiBjYWxjdWxhdGVBZ2VJblJhbmdlKHRpbWUsIG1pbiwgbWF4KTtcclxuXHRcdFx0XHJcblx0XHRcdH0gIGVsc2UgaWYgKHRpbWVzLnR5cGUgPT0gJ3BvaW50Jykge1xyXG5cdFx0XHRcdC8vIHJhbmdlOiBmcm9tIHR3byB3ZWVrcyBiZWZvcmUgcG9pbnQgdW50aWwgcG9pbnRcclxuXHRcdFx0XHRpZiAodGltZXMucG9pbnQgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdHJldHVybiAxLjA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBtYXggPSB0aW1lcy5wb2ludDtcclxuXHRcdFx0XHR2YXIgbWluID0gbWF4LmNsb25lKCkuc3VidHJhY3QoMiwgJ3dlZWtzJyk7XHJcblx0XHRcdFx0cmV0dXJuIGNhbGN1bGF0ZUFnZUluUmFuZ2UodGltZSwgbWluLCBtYXgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGNhbGN1bGF0ZUFnZUluUmFuZ2UodGltZSwgbWluLCBtYXgpIHtcclxuXHRcdFx0aWYgKHRpbWUuaXNCZWZvcmUobWluKSkge1xyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCF0aW1lLmlzQmVmb3JlKG1heCkpIHtcclxuXHRcdFx0XHRyZXR1cm4gMS4wO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiAodGltZS5kaWZmKG1pbikgLyBtYXguZGlmZihtaW4pKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7IiwiLyogZ2xvYmFsIG1vbWVudCAqL1xyXG4vKiBnbG9iYWwgZ29vZ2xlICovXHJcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5kYXNoYm9hcmQnKVxyXG5cdFx0LmZhY3RvcnkoJ21hcCcsIG1hcCk7XHJcblx0XHRcclxuXHRmdW5jdGlvbiBtYXAoZGFzaGJvYXJkKSB7XHJcblx0XHRcdFx0XHJcblx0XHR2YXIgbWFwO1xyXG5cdFx0dmFyIG1hcE9wdGlvbnMgPSB7XHJcblx0XHRcdHpvb206IDExLFxyXG5cdFx0XHRjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoLTI3LjU3MzcwNCwgMTUzLjA1NTgxOCksXHJcblx0XHRcdG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcclxuXHRcdH07XHJcblx0XHR2YXIgbWFya2VycyA9IHt9O1xyXG5cdFx0dmFyIGRpc2FibGVkTWFya2VycyA9IFtdO1xyXG5cdFx0dmFyIGluZm9Cb3g7XHJcblx0XHR2YXIgaW5mb0JveE9wZW4gPSBmYWxzZTtcclxuXHRcdHZhciBjdXJyZW50TWFya2VySWQgPSAtMTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0aW5pdGlhbGlzZU1hcDogaW5pdGlhbGlzZU1hcCxcclxuXHRcdFx0dXBkYXRlUmVhZGluZ3M6IHVwZGF0ZVJlYWRpbmdzXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGluaXRpYWxpc2VNYXAoKSB7XHJcblx0XHRcdC8vIGRpc2FibGUgcG9pbnRzIG9mIGludGVyZXN0XHJcblx0XHRcdHZhciBub1BvaSA9IFtcclxuXHRcdFx0ICAgIHtcclxuXHRcdFx0ICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2lcIixcclxuXHRcdFx0ICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHNcIixcclxuXHRcdFx0ICAgICAgICBzdHlsZXJzOiBbXHJcblx0XHRcdCAgICAgICAgICAgICAgeyB2aXNpYmlsaXR5OiBcIm9mZlwiIH1cclxuXHRcdFx0ICAgICAgICBdXHJcblx0XHRcdCAgICB9LFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0ICAgICAgICBmZWF0dXJlVHlwZTogXCJ0cmFuc2l0LnN0YXRpb25cIixcclxuXHRcdFx0ICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHNcIixcclxuXHRcdFx0ICAgICAgICBzdHlsZXJzOiBbXHJcblx0XHRcdCAgICAgICAgICAgICAgeyB2aXNpYmlsaXR5OiBcIm9mZlwiIH1cclxuXHRcdFx0ICAgICAgICBdXHJcblx0XHRcdCAgICB9XHJcblx0XHRcdF07XHJcblx0XHRcdG1hcE9wdGlvbnMuc3R5bGVzID0gbm9Qb2k7XHJcblx0XHRcdFxyXG5cdFx0XHRtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwLWNhbnZhc1wiKSwgbWFwT3B0aW9ucyk7IFxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ3pvb21fY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdG1hcE9wdGlvbnMuem9vbSA9IG1hcC5nZXRab29tKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Z29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwLCAnY2VudGVyX2NoYW5nZWQnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRtYXBPcHRpb25zLmNlbnRlciA9IG1hcC5nZXRDZW50ZXIoKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXAsICdtYXB0eXBlaWRfY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdG1hcE9wdGlvbnMubWFwVHlwZUlkID0gbWFwLmdldE1hcFR5cGVJZCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHQgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdCAgICAgICAgaWYgKGluZm9Cb3hPcGVuKSB7XHJcblx0XHRcdFx0XHRjbG9zZUluZm9Cb3goKTtcclxuXHRcdFx0XHR9XHJcblx0XHQgICAgfSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBtYXJrIHJlYWRpbmdzXHJcblx0XHRcdHZhciByZWFkaW5ncyA9IGRhc2hib2FyZC5yZWFkaW5ncygpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlYWRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0YWRkTWFya2VyKHJlYWRpbmdzW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVSZWFkaW5ncygpIHtcclxuXHRcdFx0dmFyIHJlYWRpbmdzID0gZGFzaGJvYXJkLnJlYWRpbmdzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjcmVhdGUgYW4gYXJyYXkgb2YgcmVhZGluZ3Mgd2hpY2ggc2hvdWxkIGJlIGVuYWJsZWRcclxuXHRcdFx0dmFyIGVuYWJsZWRSZWFkaW5ncyA9IFtdO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlYWRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0ZW5hYmxlZFJlYWRpbmdzLnB1c2gocmVhZGluZ3NbaV0uaWQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBkaXNhYmxlIG1hcmtlcnMgd2hpY2ggc2hvdWxkbid0IGJlIGVuYWJsZWRcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIG1hcmtlcnMpIHtcclxuXHRcdFx0XHRpZiAobWFya2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRrZXkgPSBwYXJzZUludChrZXksIDEwKTtcclxuXHRcdFx0XHRcdGlmIChlbmFibGVkUmVhZGluZ3MuaW5kZXhPZihrZXkpID09IC0xKSB7XHJcblx0XHRcdFx0XHRcdGRpc2FibGVNYXJrZXIoa2V5KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGFkZCBhbmQgcmUtZW5hYmxlIG1hcmtlcnNcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCByZWFkaW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpZCA9IHJlYWRpbmdzW2ldLmlkO1xyXG5cdFx0XHRcdGlmICghbWFya2Vycy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcclxuXHRcdFx0XHRcdGFkZE1hcmtlcihyZWFkaW5nc1tpXSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIHVwZGF0ZSBvcGFjaXR5XHJcblx0XHRcdFx0XHRtYXJrZXJzW2lkXS5zZXRPcGFjaXR5KGNhbGN1bGF0ZU9wYWNpdHkocmVhZGluZ3NbaV0pKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gcmUtZW5hYmxlIGRpc2FibGVkIG1hcmtlcnNcclxuXHRcdFx0XHRcdGlmIChkaXNhYmxlZE1hcmtlcnMuaW5kZXhPZihpZCkgIT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0ZW5hYmxlTWFya2VyKGlkKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gYWRkTWFya2VyKHJlYWRpbmcpIHtcclxuXHRcdFx0dmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG5cdFx0XHRcdHBvc2l0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHJlYWRpbmcubGF0aXR1ZGUsIHJlYWRpbmcubG9uZ2l0dWRlKSxcclxuXHRcdFx0XHRtYXA6IG1hcCxcclxuXHRcdFx0XHQvLyB0aXRsZTogJ0J1b3kgJyArIHJlYWRpbmcuYnVveSArICc6IHJlYWRpbmcgJyArIHJlYWRpbmcuaWQsXHJcblx0XHRcdFx0b3BhY2l0eTogY2FsY3VsYXRlT3BhY2l0eShyZWFkaW5nKVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0b3BlbkluZm9Cb3gocmVhZGluZywgbWFya2VyKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRtYXJrZXJzW3JlYWRpbmcuaWRdID0gbWFya2VyO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBkaXNhYmxlTWFya2VyKGlkKSB7XHJcblx0XHRcdG1hcmtlcnNbaWRdLnNldE1hcChudWxsKTtcclxuXHRcdFx0ZGlzYWJsZWRNYXJrZXJzLnB1c2goaWQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY2xvc2UgaW5mb2JveCBvZiBkaXNhYmxlZCBtYXJrZXJcclxuXHRcdFx0aWYgKGluZm9Cb3hPcGVuKSB7XHJcblx0XHRcdFx0aWYgKGRpc2FibGVkTWFya2Vycy5pbmRleE9mKGN1cnJlbnRNYXJrZXJJZCkgIT0gLTEpIHtcclxuXHRcdFx0XHRcdGNsb3NlSW5mb0JveCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBlbmFibGVNYXJrZXIoaWQpIHtcclxuXHRcdFx0bWFya2Vyc1tpZF0uc2V0TWFwKG1hcCk7XHJcblx0XHRcdGRpc2FibGVkTWFya2Vycy5zcGxpY2UoZGlzYWJsZWRNYXJrZXJzLmluZGV4T2YoaWQpLCAxKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gY2FsY3VsYXRlT3BhY2l0eShyZWFkaW5nKSB7XHJcblx0XHRcdHZhciBhZ2UgPSBkYXNoYm9hcmQuZ2V0UmVsYXRpdmVBZ2UocmVhZGluZyk7XHJcblx0XHRcdHZhciBtaW5WaXNpYmxlT3BhY2l0eSA9IDAuMztcclxuXHRcdFx0cmV0dXJuIGFnZSAqICgxIC0gbWluVmlzaWJsZU9wYWNpdHkpICsgbWluVmlzaWJsZU9wYWNpdHk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGNsb3NlSW5mb0JveCgpIHtcclxuXHRcdFx0aW5mb0JveC5jbG9zZSgpO1xyXG5cdFx0XHRpbmZvQm94T3BlbiA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBvcGVuSW5mb0JveChyZWFkaW5nLCBtYXJrZXIpIHtcclxuXHRcdFx0aWYgKGluZm9Cb3hPcGVuKSB7XHJcblx0XHRcdFx0Y2xvc2VJbmZvQm94KCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKHJlYWRpbmcuaWQgPT0gY3VycmVudE1hcmtlcklkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgZm9ybWF0dGVkVGltZSA9IG1vbWVudC51bml4KHJlYWRpbmcudGltZXN0YW1wKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5mb3JtYXQoJ0QgTU1NTSBoOm1tIEEnKTtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBjb250ZW50ID0gXCI8ZGl2PlwiICtcclxuXHRcdFx0XHRcdFx0XHRcIjxoNSBzdHlsZT0nY29sb3I6IHdoaXRlJz5CdW95IFwiICsgcmVhZGluZy5idW95ICsgXCI8L2g1PlwiICtcclxuXHRcdFx0XHRcdFx0XHRmb3JtYXR0ZWRUaW1lICsgXHJcblx0XHRcdFx0XHRcdFx0XCI8YnI+LS0tXCIgK1xyXG5cdFx0XHRcdFx0XHRcdFwiPGJyPkJhdHRlcnk6IFwiICsgcmVhZGluZy5yZWFkaW5ncy5iYXR0ZXJ5ICtcclxuXHRcdFx0XHRcdFx0XHRcIjxicj5QcmVzc3VyZTogXCIgKyByZWFkaW5nLnJlYWRpbmdzLnByZXNzdXJlICtcclxuXHRcdFx0XHRcdFx0XHRcIjxicj5TZWEgbGV2ZWw6IFwiICsgcmVhZGluZy5yZWFkaW5ncy5zZWFsZXZlbCArXHJcblx0XHRcdFx0XHRcdFx0XCI8YnI+VHVyYmlkaXR5OiBcIiArIHJlYWRpbmcucmVhZGluZ3MudHVyYmlkaXR5ICtcclxuXHRcdFx0XHRcdFx0XHRcIjwvZGl2PlwiO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRpbmZvQm94ID0gbmV3IEluZm9Cb3goe1xyXG5cdFx0XHRcdGNvbnRlbnQ6IGNvbnRlbnQsXHJcblx0XHRcdFx0cGl4ZWxPZmZzZXQ6IG5ldyBnb29nbGUubWFwcy5TaXplKC02MCwgMCksXHJcblx0ICAgICAgICAgICAgekluZGV4OiBudWxsLFxyXG5cdCAgICAgICAgICAgIGJveFN0eWxlOiB7XHJcblx0ICAgICAgICAgICAgICAgIC8vIFwiYmFja2dyb3VuZFwiOiBcInVybCgnaHR0cDovL2dvb2dsZS1tYXBzLXV0aWxpdHktbGlicmFyeS12My5nb29nbGVjb2RlLmNvbS9zdm4vdHJ1bmsvaW5mb2JveC9leGFtcGxlcy90aXBib3guZ2lmJykgbm8tcmVwZWF0XCIsXHJcblx0XHRcdFx0XHRcImNvbG9yXCI6IFwid2hpdGVcIixcclxuXHRcdFx0XHRcdFwiYmFja2dyb3VuZC1jb2xvclwiOiBcInJnYig0MCwgNDAsIDQwKVwiLFxyXG5cdFx0XHRcdFx0XCJ3aWR0aFwiOiBcIjEyMHB4XCIsXHJcblx0XHRcdFx0XHRcInBhZGRpbmdcIjogXCIxMHB4XCIsXHJcblx0XHRcdFx0XHRcImJvcmRlci1yYWRpdXNcIjogXCIxMHB4XCJcclxuXHQgICAgICAgICAgICB9LFxyXG5cdCAgICAgICAgICAgIGNsb3NlQm94TWFyZ2luOiBcIi02cHggLTZweCAycHggMnB4XCJcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRpbmZvQm94Lm9wZW4obWFwLCBtYXJrZXIpO1x0XHRcdFxyXG5cdFx0XHRpbmZvQm94T3BlbiA9IHRydWU7XHJcblx0XHRcdGN1cnJlbnRNYXJrZXJJZCA9IHJlYWRpbmcuaWQ7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc2VydmVyJywgc2VydmVyKTtcclxuXHRcclxuXHRmdW5jdGlvbiBzZXJ2ZXIoJGh0dHAsIFNFUlZFUl9BRERSRVNTLCBhdXRoKSB7XHJcblx0XHRcclxuXHRcdHZhciBkdW1teVJlYWRpbmdzID0gW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0aWQ6IDEsXHJcblx0XHRcdFx0YnVveTogMSxcclxuXHRcdFx0XHR0aW1lc3RhbXA6IDE0Mzg5MzM2MTQsXHJcblx0XHRcdFx0bGF0aXR1ZGU6IC0yNy40NDYxMzQyMyxcclxuXHRcdFx0XHRsb25naXR1ZGU6IDE1My4wNzgzNDYyNSxcclxuXHRcdFx0XHRyZWFkaW5ncyA6IHtcclxuXHRcdFx0XHRcdGJhdHRlcnk6IDkwLFxyXG5cdFx0XHRcdFx0cHJlc3N1cmU6IDE0MCxcclxuXHRcdFx0XHRcdHNlYWxldmVsOiAyMSxcclxuXHRcdFx0XHRcdHR1cmJpZGl0eTogMTRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRpZDogMiwgXHJcblx0XHRcdFx0YnVveTogMixcclxuXHRcdFx0XHR0aW1lc3RhbXA6IDE0Mzg1ODgxMTcsXHJcblx0XHRcdFx0bGF0aXR1ZGU6IC0yNy40MjY5Mzc3MixcclxuXHRcdFx0XHRsb25naXR1ZGU6IDE1My4yMDY3NDg5NixcclxuXHRcdFx0XHRyZWFkaW5ncyA6IHtcclxuXHRcdFx0XHRcdGJhdHRlcnk6IDcwLFxyXG5cdFx0XHRcdFx0cHJlc3N1cmU6IDEyMixcclxuXHRcdFx0XHRcdHNlYWxldmVsOiA0NCxcclxuXHRcdFx0XHRcdHR1cmJpZGl0eTogNFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGlkOiAzLCBcclxuXHRcdFx0XHRidW95OiAyLFxyXG5cdFx0XHRcdHRpbWVzdGFtcDogMTQzODc2MDg3NixcclxuXHRcdFx0XHRsYXRpdHVkZTogLTI3LjQ5MTQ3NSwgXHJcblx0XHRcdFx0bG9uZ2l0dWRlOiAxNTMuMDA2NjU1LFxyXG5cdFx0XHRcdHJlYWRpbmdzIDoge1xyXG5cdFx0XHRcdFx0YmF0dGVyeTogNDUsXHJcblx0XHRcdFx0XHRwcmVzc3VyZTogODUsXHJcblx0XHRcdFx0XHRzZWFsZXZlbDogMTUsXHJcblx0XHRcdFx0XHR0dXJiaWRpdHk6IDQ1XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0aWQ6IDQsIFxyXG5cdFx0XHRcdGJ1b3k6IDQsXHJcblx0XHRcdFx0dGltZXN0YW1wOiAxNDM4ODQ3MjkxLFxyXG5cdFx0XHRcdGxhdGl0dWRlOiAtMjcuNDAwMzU3LCBcclxuXHRcdFx0XHRsb25naXR1ZGU6IDE1My4xNzc5OTUsXHJcblx0XHRcdFx0cmVhZGluZ3MgOiB7XHJcblx0XHRcdFx0XHRiYXR0ZXJ5OiA3NSxcclxuXHRcdFx0XHRcdHByZXNzdXJlOiA5NyxcclxuXHRcdFx0XHRcdHNlYWxldmVsOiAzMyxcclxuXHRcdFx0XHRcdHR1cmJpZGl0eTogNjZcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRpZDogNzcsIFxyXG5cdFx0XHRcdGJ1b3k6IDEsXHJcblx0XHRcdFx0dGltZXN0YW1wOiAxNDM4MzI4ODM5LFxyXG5cdFx0XHRcdGxhdGl0dWRlOiAtMjcuNDQ3MTM0MjMsXHJcblx0XHRcdFx0bG9uZ2l0dWRlOiAxNTMuMDkyMzQ2MjUsXHJcblx0XHRcdFx0cmVhZGluZ3MgOiB7XHJcblx0XHRcdFx0XHRiYXR0ZXJ5OiA4MyxcclxuXHRcdFx0XHRcdHByZXNzdXJlOiAxMTgsXHJcblx0XHRcdFx0XHRzZWFsZXZlbDogMjQuNSxcclxuXHRcdFx0XHRcdHR1cmJpZGl0eTogOFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XTtcclxuXHRcdFxyXG5cdFx0dmFyIGR1bW15U2Vuc29ycyA9IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlkOiBcImJhdHRlcnlcIixcclxuXHRcdFx0XHRuYW1lOiBcIkJhdHRlcnlcIixcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogXCJCYXR0ZXJ5IGxldmVsIG9mIGJ1b3lcIixcclxuXHRcdFx0XHRjb2xvdXI6IFwiXCIsXHJcblx0XHRcdFx0dW5pdHM6IFwiJVwiLFxyXG5cdFx0XHRcdGxvd2VyQm91bmQ6IDAsXHJcblx0XHRcdFx0dXBwZXJCb3VuZDogMTAwLFxyXG5cdFx0XHRcdGRpc3BsYXk6IHRydWUsXHJcblx0XHRcdFx0dW5jb25maWd1cmVkOiBmYWxzZVx0XHRcdFx0XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZDogXCJ0dXJiaWRpdHlcIixcclxuXHRcdFx0XHRuYW1lOiBcIlR1cmJpZGl0eVwiLFxyXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBcIldhdGVyIHF1YWxpdHkgYXJvdW5kIGJ1b3lcIixcclxuXHRcdFx0XHRjb2xvdXI6IFwiXCIsXHJcblx0XHRcdFx0dW5pdHM6IFwiZy9tbFwiLFxyXG5cdFx0XHRcdGxvd2VyQm91bmQ6IDAsXHJcblx0XHRcdFx0dXBwZXJCb3VuZDogNzAsXHJcblx0XHRcdFx0ZGlzcGxheTogdHJ1ZSxcclxuXHRcdFx0XHR1bmNvbmZpZ3VyZWQ6IGZhbHNlXHRcdFx0XHRcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlkOiBcInByZXNzdXJlXCIsXHJcblx0XHRcdFx0bmFtZTogXCJcIixcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogXCJcIixcclxuXHRcdFx0XHRjb2xvdXI6IFwiXCIsXHJcblx0XHRcdFx0dW5pdHM6IFwiXCIsXHJcblx0XHRcdFx0bG93ZXJCb3VuZDogLTEsXHJcblx0XHRcdFx0dXBwZXJCb3VuZDogLTEsXHJcblx0XHRcdFx0ZGlzcGxheTogZmFsc2UsXHJcblx0XHRcdFx0dW5jb25maWd1cmVkOiB0cnVlXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0XTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z2V0UmVhZGluZ3M6IGdldFJlYWRpbmdzLFxyXG5cdFx0XHRnZXRTZW5zb3JzOiBnZXRTZW5zb3JzLFxyXG5cdFx0XHRsb2dpbjogbG9naW4sXHJcblx0XHRcdGxvZ291dDogbG9nb3V0XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRSZWFkaW5ncygpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ3F1ZXJ5aW5nIHNlcnZlcicpO1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIHRva2VuID0gYXV0aC5nZXRUb2tlbigpO1xyXG5cdFx0XHR2YXIgY29uZmlnID0ge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRcdCdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdG9rZW5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KFNFUlZFUl9BRERSRVNTICsgJy9hcGkvcmVhZGluZ3MnLCBjb25maWcpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRTZW5zb3JzKCkge1xyXG5cdFx0XHRyZXR1cm4gZHVtbXlTZW5zb3JzO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdFx0dmFyIGRhdGEgPSB7XHJcblx0XHRcdFx0ZW1haWw6IHVzZXJuYW1lLFxyXG5cdFx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZFxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChTRVJWRVJfQUREUkVTUyArICcvYXBpL2xvZ2luJywgZGF0YSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGxvZ291dCgpIHtcclxuXHRcdFx0YXV0aC5sb2dvdXQoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnbW9jay5zZXJ2ZXInLCBbXSlcclxuXHRcdC5mYWN0b3J5KCdzZXJ2ZXInLCBzZXJ2ZXIpO1xyXG5cdFx0XHJcblx0ZnVuY3Rpb24gc2VydmVyKCkge1xyXG5cdFx0XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRSZWFkaW5nczogZ2V0UmVhZGluZ3MsXHJcblx0XHRcdGdldFNlbnNvcnM6IGdldFNlbnNvcnMsXHJcblx0XHRcdGxvZ2luOiBsb2dpbixcclxuXHRcdFx0bG9nb3V0OiBsb2dvdXRcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldFJlYWRpbmdzKCkge1xyXG5cdFx0XHRyZXR1cm4gW1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGlkOiAxLFxyXG5cdFx0XHRcdFx0YnVveTogMSxcclxuXHRcdFx0XHRcdHRpbWVzdGFtcDogMTQzODkzMzYxNCxcclxuXHRcdFx0XHRcdGxhdGl0dWRlOiAtMjcuNDQ2MTM0MjMsXHJcblx0XHRcdFx0XHRsb25naXR1ZGU6IDE1My4wNzgzNDYyNSxcclxuXHRcdFx0XHRcdHJlYWRpbmdzIDoge1xyXG5cdFx0XHRcdFx0XHRiYXR0ZXJ5OiA5MCxcclxuXHRcdFx0XHRcdFx0cHJlc3N1cmU6IDE0MCxcclxuXHRcdFx0XHRcdFx0c2VhbGV2ZWw6IDIxLFxyXG5cdFx0XHRcdFx0XHR0dXJiaWRpdHk6IDE0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0aWQ6IDIsIFxyXG5cdFx0XHRcdFx0YnVveTogMixcclxuXHRcdFx0XHRcdHRpbWVzdGFtcDogMTQzODU4ODExNyxcclxuXHRcdFx0XHRcdGxhdGl0dWRlOiAtMjcuNDI2OTM3NzIsXHJcblx0XHRcdFx0XHRsb25naXR1ZGU6IDE1My4yMDY3NDg5NixcclxuXHRcdFx0XHRcdHJlYWRpbmdzIDoge1xyXG5cdFx0XHRcdFx0XHRiYXR0ZXJ5OiA3MCxcclxuXHRcdFx0XHRcdFx0cHJlc3N1cmU6IDEyMixcclxuXHRcdFx0XHRcdFx0c2VhbGV2ZWw6IDQ0LFxyXG5cdFx0XHRcdFx0XHR0dXJiaWRpdHk6IDRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRpZDogMywgXHJcblx0XHRcdFx0XHRidW95OiAyLFxyXG5cdFx0XHRcdFx0dGltZXN0YW1wOiAxNDM4NzYwODc2LFxyXG5cdFx0XHRcdFx0bGF0aXR1ZGU6IC0yNy40OTE0NzUsIFxyXG5cdFx0XHRcdFx0bG9uZ2l0dWRlOiAxNTMuMDA2NjU1LFxyXG5cdFx0XHRcdFx0cmVhZGluZ3MgOiB7XHJcblx0XHRcdFx0XHRcdGJhdHRlcnk6IDQ1LFxyXG5cdFx0XHRcdFx0XHRwcmVzc3VyZTogODUsXHJcblx0XHRcdFx0XHRcdHNlYWxldmVsOiAxNSxcclxuXHRcdFx0XHRcdFx0dHVyYmlkaXR5OiA0NVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGlkOiA0LCBcclxuXHRcdFx0XHRcdGJ1b3k6IDQsXHJcblx0XHRcdFx0XHR0aW1lc3RhbXA6IDE0Mzg4NDcyOTEsXHJcblx0XHRcdFx0XHRsYXRpdHVkZTogLTI3LjQwMDM1NywgXHJcblx0XHRcdFx0XHRsb25naXR1ZGU6IDE1My4xNzc5OTUsXHJcblx0XHRcdFx0XHRyZWFkaW5ncyA6IHtcclxuXHRcdFx0XHRcdFx0YmF0dGVyeTogNzUsXHJcblx0XHRcdFx0XHRcdHByZXNzdXJlOiA5NyxcclxuXHRcdFx0XHRcdFx0c2VhbGV2ZWw6IDMzLFxyXG5cdFx0XHRcdFx0XHR0dXJiaWRpdHk6IDY2XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0aWQ6IDc3LCBcclxuXHRcdFx0XHRcdGJ1b3k6IDEsXHJcblx0XHRcdFx0XHR0aW1lc3RhbXA6IDE0MzgzMjg4MzksXHJcblx0XHRcdFx0XHRsYXRpdHVkZTogLTI3LjQ0NzEzNDIzLFxyXG5cdFx0XHRcdFx0bG9uZ2l0dWRlOiAxNTMuMDkyMzQ2MjUsXHJcblx0XHRcdFx0XHRyZWFkaW5ncyA6IHtcclxuXHRcdFx0XHRcdFx0YmF0dGVyeTogODMsXHJcblx0XHRcdFx0XHRcdHByZXNzdXJlOiAxMTgsXHJcblx0XHRcdFx0XHRcdHNlYWxldmVsOiAyNC41LFxyXG5cdFx0XHRcdFx0XHR0dXJiaWRpdHk6IDhcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdF07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldFNlbnNvcnMoKSB7XHJcblx0XHRcdHJldHVybiBbXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0aWQ6IFwiYmF0dGVyeVwiLFxyXG5cdFx0XHRcdFx0bmFtZTogXCJCYXR0ZXJ5XCIsXHJcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogXCJCYXR0ZXJ5IGxldmVsIG9mIGJ1b3lcIixcclxuXHRcdFx0XHRcdGNvbG91cjogXCJcIixcclxuXHRcdFx0XHRcdHVuaXRzOiBcIiVcIixcclxuXHRcdFx0XHRcdGxvd2VyQm91bmQ6IDAsXHJcblx0XHRcdFx0XHR1cHBlckJvdW5kOiAxMDAsXHJcblx0XHRcdFx0XHRkaXNwbGF5OiB0cnVlLFxyXG5cdFx0XHRcdFx0dW5jb25maWd1cmVkOiBmYWxzZVx0XHRcdFx0XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRpZDogXCJ0dXJiaWRpdHlcIixcclxuXHRcdFx0XHRcdG5hbWU6IFwiVHVyYmlkaXR5XCIsXHJcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogXCJXYXRlciBxdWFsaXR5IGFyb3VuZCBidW95XCIsXHJcblx0XHRcdFx0XHRjb2xvdXI6IFwiXCIsXHJcblx0XHRcdFx0XHR1bml0czogXCJnL21sXCIsXHJcblx0XHRcdFx0XHRsb3dlckJvdW5kOiAwLFxyXG5cdFx0XHRcdFx0dXBwZXJCb3VuZDogNzAsXHJcblx0XHRcdFx0XHRkaXNwbGF5OiB0cnVlLFxyXG5cdFx0XHRcdFx0dW5jb25maWd1cmVkOiBmYWxzZVx0XHRcdFx0XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRpZDogXCJwcmVzc3VyZVwiLFxyXG5cdFx0XHRcdFx0bmFtZTogXCJcIixcclxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBcIlwiLFxyXG5cdFx0XHRcdFx0Y29sb3VyOiBcIlwiLFxyXG5cdFx0XHRcdFx0dW5pdHM6IFwiXCIsXHJcblx0XHRcdFx0XHRsb3dlckJvdW5kOiAtMSxcclxuXHRcdFx0XHRcdHVwcGVyQm91bmQ6IC0xLFxyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmFsc2UsXHJcblx0XHRcdFx0XHR1bmNvbmZpZ3VyZWQ6IHRydWVcdFx0XHRcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gbG9naW4oKSB7XHJcblx0XHRcdC8vIHJldHVybiAwO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBsb2dvdXQoKSB7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=