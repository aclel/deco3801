!function(){"use strict";angular.module("app",["ui.router","mgcrea.ngStrap","mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.parseOptions","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.button","mgcrea.ngStrap.select","chart.js","app.auth","app.dashboard","app.config"])}(),function(){"use strict";angular.module("app.auth",[])}(),function(){"use strict";angular.module("app.config",[])}(),function(){"use strict";angular.module("app.dashboard",[])}(),function(){"use strict";angular.module("app").config(["$datepickerProvider","$timepickerProvider","$httpProvider",function(e,t,n){n.interceptors.push("authInterceptor"),angular.extend(e.defaults,{autoclose:!0,dateFormat:"d/M/yy",modelDateFormat:"d/M/yy",dateType:"string",startWeek:1}),angular.extend(t.defaults,{autoclose:!1,timeFormat:"h:mm a",modelTimeFormat:"h:mm a",timeType:"string"})}])}(),function(){"use strict";angular.module("app").constant("SERVER_ADDRESS","http://localhost:8080")}(),function(){"use strict";angular.module("app").run(["$rootScope","$state","$stateParams",function(e,t,n){e.$state=t,e.$stateParams=n}]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/dashboard"),e.state("login",{url:"/login",templateUrl:"/app/auth/login.html"}).state("dashboard",{url:"/dashboard",controller:"DashboardController",controllerAs:"vm",templateUrl:"/app/dashboard/dashboard.html"}).state("config",{url:"/config",controller:"ConfigController",controllerAs:"vm",templateUrl:"/app/config/config.html"}).state("warnings",{url:"/warnings"})}])}(),function(){"use strict";function e(e,t,n,r){function o(){r.login(a.username,a.password).then(function(e){n.authed()&&(a.authed=!0,t.go("dashboard"),s())},function(e){alert("Invalid username or password")})}function i(){r.logout(),a.authed=!1,t.go("login")}function s(){a.username="imafake",a.password="ekafami"}var a=this;a.authed=n.authed(),a.login=o,a.logout=i,s(),e.$on("$stateChangeStart",function(e,r){n.authed()?"login"==r.name&&(e.preventDefault(),t.is("login")&&t.go("dashboard")):"login"!=r.name&&(e.preventDefault(),t.go("login"))})}angular.module("app.auth").controller("AuthController",e),e.$inject=["$rootScope","$state","auth","server"]}(),function(){"use strict";function e(e){function t(e,t){}function n(){e.localStorage.removeItem("token")}function r(){var e=i();if(e){var t=s(e);return moment().unix()<=t.exp}return!1}function o(t){e.localStorage.token=t}function i(t){return e.localStorage.token}function s(t){var n=t.split(".")[1],r=n.replace("-","+").replace("_","/");return JSON.parse(e.atob(r))}return{login:t,logout:n,authed:r,getToken:i,saveToken:o}}angular.module("app.auth").factory("auth",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){function t(e){return e}function n(t){return t.data.token&&e.saveToken(t.data.token),t}return{request:t,response:n}}angular.module("app.auth").factory("authInterceptor",e),e.$inject=["auth"]}(),function(){"use strict";function e(e){function t(e){r.sensorsEdit[e]&&(r.sensors[e].unconfigured=!1),r.sensorsEdit[e]=!r.sensorsEdit[e]}function n(e){return e.name&&e.units?!0:!1}var r=this;r.sensors=e.getSensors(),r.sensorsEdit=[],r.toggleEdit=t,r.sensorValid=n;for(var o=0;o<r.sensors.length;o++)r.sensorsEdit.push(!1)}angular.module("app.config").controller("ConfigController",e),e.$inject=["server"]}(),function(){"use strict";describe("Controller: ConfigController",function(){var e;beforeEach(module("app.config")),beforeEach(module("mock.server")),beforeEach(inject(function(t,n){e=t("ConfigController",{server:n})})),describe("State",function(){it("should exist",function(){expect(e).toBeDefined()}),it("should expose sensors and sensor edit value",function(){expect(angular.isArray(e.sensors)).toBe(!0),expect(angular.isArray(e.sensorsEdit)).toBe(!0)}),it("should expose a method to edit sensors",function(){expect(e.toggleEdit).toBeDefined(),expect(angular.isFunction(e.toggleEdit)).toBe(!0)}),it("should expose sensor validation",function(){expect(e.sensorValid).toBeDefined(),expect(angular.isFunction(e.sensorValid)).toBe(!0)}),it("sensor edit array should be same length as sensor array",function(){expect(e.sensors.length).toBe(e.sensorsEdit.length)})})})}(),function(){"use strict";function e(e,t,n){function r(e,r){a.buoys[e]=r,t.updateBuoys(),n.updateReadings()}function o(){if(i()){var e=u+" "+d;"range"==a.times.type?(a.times.range.from=moment(a.times.inputs.range.from.date+" "+a.times.inputs.range.from.time,e),a.times.range.to=moment(a.times.inputs.range.to.date+" "+a.times.inputs.range.to.time,e)):"point"==a.times.type&&(a.times.point=moment(a.times.inputs.point.date+" "+a.times.inputs.point.time,e)),t.updateTimes(),n.updateReadings()}}function i(){if("all"==a.times.type)return!0;if("range"==a.times.type){var e=a.times.inputs.range.from.date,t=a.times.inputs.range.from.time,n=a.times.inputs.range.to.date,r=a.times.inputs.range.to.time;if(e&&t&&n&&r)return!0}return"point"==a.times.type&&a.times.inputs.point.date?!0:!1}function s(){t.updateSensors(),n.updateReadings()}var a=this;a.buoys=t.buoys(),a.times=t.times(),a.sensors=t.sensors(),a.updateBuoysFilter=r,a.updateTimesFilter=o,a.updateSensorsFilter=s,t.initialise().then(function(){a.buoys=t.buoys(),a.times=t.times(),a.sensors=t.sensors(),t.updateFilters(),n.updateReadings()});var u="D/M/YY",d="h:mm A";e.ready(function(){n.initialiseMap()})}angular.module("app.dashboard").controller("DashboardController",e),e.$inject=["$document","dashboard","map"]}(),function(){"use strict";function e(e,t){function n(){var e=t.getReadings();return e.then(function(e){console.log(e),w=e.data,o()},function(e){console.log("error"),console.log(e)}),e}function r(){$.buoys={},i(),$.times={type:"all",range:{from:null,to:null},point:null,pointReadings:{},inputs:{range:{from:{date:"",time:""},to:{date:"",time:""}},point:{date:"",time:""}}},$.sensors={},$.sensorInputs={},g()}function o(){i(),g()}function i(){for(var e=0;e<w.length;e++)$.buoys.hasOwnProperty(w[e].buoy)||($.buoys[w[e].buoy]=!0)}function s(){return S}function a(){return $.buoys}function u(){return $.times}function d(){g();for(var e in $.sensorInputs)$.sensorInputs.hasOwnProperty(e)&&($.sensors[e].inputs=$.sensorInputs[e]);var t=[];for(var e in $.sensors)$.sensors.hasOwnProperty(e)&&$.sensors[e].display&&t.push($.sensors[e]);return t}function l(){y()}function p(){"point"==$.times.type&&f(),y()}function c(){y()}function g(){for(var e=t.getSensors(),n=0;n<e.length;n++)$.sensors[e[n].id]=e[n],$.sensorInputs.hasOwnProperty(e[n].id)||($.sensorInputs[e[n].id]={enabled:!1,options:[">","<","="],selected:">",value:""}),e[n].display||($.sensorInputs[e[n].id].enabled=!1)}function m(){for(var e=S,t=moment.unix(e[0].timestamp),n=1;n<e.length;n++)moment.unix(e[n].timestamp).isBefore(t)&&(t=moment.unix(e[n].timestamp));return t}function f(){for(var e={},t=0;t<w.length;t++){var n=w[t];if(e.hasOwnProperty(n.buoy)){var r=e[n.buoy].time,o=n.timestamp,i=moment.unix(r).diff($.times.point),s=moment.unix(o).diff($.times.point);Math.abs(s)<Math.abs(i)&&(e[n.buoy]={id:n.id,time:n.timestamp})}else e[n.buoy]={id:n.id,time:n.timestamp}}$.times.pointReadings=e}function y(){S=e("filter")(w,function(e){if(!h(e))return!1;if(!b(e))return!1;for(var t in $.sensorInputs)if($.sensorInputs.hasOwnProperty(t)&&!v(t,$.sensorInputs[t],e))return!1;return!0})}function h(e){return $.buoys[e.buoy]?!0:!1}function b(e){if("range"==$.times.type){var t=moment.unix(e.timestamp);if(!t.isBetween($.times.range.from,$.times.range.to))return!1}else if("point"==$.times.type&&$.times.pointReadings.hasOwnProperty(e.buoy)&&$.times.pointReadings[e.buoy].id!=e.id)return!1;return!0}function v(e,t,n){if(!t.enabled)return!0;var r=parseInt(t.value,10);if(">"==t.selected){if(n.readings[e]<=r)return!1}else if("<"==t.selected){if(n.readings[e]>=r)return!1}else if("="==t.selected&&n.readings[e]!=r)return!1;return!0}function x(e){var t=moment.unix(e.timestamp),n=$.times;if("all"==n.type){var r=moment(),o=r.clone().subtract(2,"weeks");return B(t,o,r)}if("range"==n.type){var r=n.range.to,o=n.range.from;return B(t,o,r)}if("point"==n.type){if(null===n.point)return 1;var r=n.point,o=r.clone().subtract(2,"weeks");return B(t,o,r)}}function B(e,t,n){return e.isBefore(t)?0:e.isBefore(n)?e.diff(t)/n.diff(t):1}var w=[],S=[],$={};return r(),{initialise:n,readings:s,buoys:a,times:u,sensors:d,updateBuoys:l,updateTimes:p,updateFilters:y,updateSensors:c,getOldestReading:m,getRelativeAge:x}}angular.module("app.dashboard").factory("dashboard",e),e.$inject=["$filter","server"]}(),function(){"use strict";function e(e){function t(){var t=[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels",stylers:[{visibility:"off"}]}];p.styles=t,d=new google.maps.Map(document.getElementById("map-canvas"),p),google.maps.event.addListener(d,"zoom_changed",function(){p.zoom=d.getZoom()}),google.maps.event.addListener(d,"center_changed",function(){p.center=d.getCenter()}),google.maps.event.addListener(d,"maptypeid_changed",function(){p.mapTypeId=d.getMapTypeId()}),google.maps.event.addListener(d,"click",function(){m&&a()});for(var n=e.readings(),o=0;o<n.length;o++)r(n[o])}function n(){for(var t=e.readings(),n=[],a=0;a<t.length;a++)n.push(t[a].id);for(var u in c)c.hasOwnProperty(u)&&(u=parseInt(u,10),-1==n.indexOf(u)&&o(u));for(var a=0;a<t.length;a++){var d=t[a].id;c.hasOwnProperty(d)?(c[d].setOpacity(s(t[a])),-1!=g.indexOf(d)&&i(d)):r(t[a])}}function r(e){var t=new google.maps.Marker({position:new google.maps.LatLng(e.latitude,e.longitude),map:d,opacity:s(e)});google.maps.event.addListener(t,"click",function(){u(e,t)}),c[e.id]=t}function o(e){c[e].setMap(null),g.push(e),m&&-1!=g.indexOf(f)&&a()}function i(e){c[e].setMap(d),g.splice(g.indexOf(e),1)}function s(t){var n=e.getRelativeAge(t),r=.3;return n*(1-r)+r}function a(){l.close(),m=!1}function u(e,t){if(!m||(a(),e.id!=f)){var n=moment.unix(e.timestamp).format("D MMMM h:mm A"),r="<div><h5 style='color: white'>Buoy "+e.buoy+"</h5>"+n+"<br>---<br>Battery: "+e.readings.battery+"<br>Pressure: "+e.readings.pressure+"<br>Sea level: "+e.readings.sealevel+"<br>Turbidity: "+e.readings.turbidity+"</div>";l=new InfoBox({content:r,pixelOffset:new google.maps.Size(-60,0),zIndex:null,boxStyle:{color:"white","background-color":"rgb(40, 40, 40)",width:"120px",padding:"10px","border-radius":"10px"},closeBoxMargin:"-6px -6px 2px 2px"}),l.open(d,t),m=!0,f=e.id}}var d,l,p={zoom:11,center:new google.maps.LatLng(-27.573704,153.055818),mapTypeId:google.maps.MapTypeId.ROADMAP},c={},g=[],m=!1,f=-1;return{initialiseMap:t,updateReadings:n}}angular.module("app.dashboard").factory("map",e),e.$inject=["dashboard"]}(),function(){"use strict";function e(e,t,n){function r(){console.log("querying server");var r=n.getToken(),o={headers:{Authorization:"Bearer "+r}};return e.get(t+"/api/readings",o)}function o(){return a}function i(n,r){var o={email:n,password:r};return e.post(t+"/api/login",o)}function s(){n.logout()}var a=[{id:"battery",name:"Battery",description:"Battery level of buoy",colour:"",units:"%",lowerBound:0,upperBound:100,display:!0,unconfigured:!1},{id:"turbidity",name:"Turbidity",description:"Water quality around buoy",colour:"",units:"g/ml",lowerBound:0,upperBound:70,display:!0,unconfigured:!1},{id:"pressure",name:"",description:"",colour:"",units:"",lowerBound:-1,upperBound:-1,display:!1,unconfigured:!0}];return{getReadings:r,getSensors:o,login:i,logout:s}}angular.module("app").factory("server",e),e.$inject=["$http","SERVER_ADDRESS","auth"]}(),function(){"use strict";function e(){function e(){return[{id:1,buoy:1,timestamp:1438933614,latitude:-27.44613423,longitude:153.07834625,readings:{battery:90,pressure:140,sealevel:21,turbidity:14}},{id:2,buoy:2,timestamp:1438588117,latitude:-27.42693772,longitude:153.20674896,readings:{battery:70,pressure:122,sealevel:44,turbidity:4}},{id:3,buoy:2,timestamp:1438760876,latitude:-27.491475,longitude:153.006655,readings:{battery:45,pressure:85,sealevel:15,turbidity:45}},{id:4,buoy:4,timestamp:1438847291,latitude:-27.400357,longitude:153.177995,readings:{battery:75,pressure:97,sealevel:33,turbidity:66}},{id:77,buoy:1,timestamp:1438328839,latitude:-27.44713423,longitude:153.09234625,readings:{battery:83,pressure:118,sealevel:24.5,turbidity:8}}]}function t(){return[{id:"battery",name:"Battery",description:"Battery level of buoy",colour:"",units:"%",lowerBound:0,upperBound:100,display:!0,unconfigured:!1},{id:"turbidity",name:"Turbidity",description:"Water quality around buoy",colour:"",units:"g/ml",lowerBound:0,upperBound:70,display:!0,unconfigured:!1},{id:"pressure",name:"",description:"",colour:"",units:"",lowerBound:-1,upperBound:-1,display:!1,unconfigured:!0}]}function n(){}function r(){}return{getReadings:e,getSensors:t,login:n,logout:r}}angular.module("mock.server",[]).factory("server",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhdXRoL2F1dGgubW9kdWxlLmpzIiwiY29uZmlnL2NvbmZpZy5tb2R1bGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLm1vZHVsZS5qcyIsImFwcC5jb25maWcuanMiLCJhcHAuY29uc3RhbnRzLmpzIiwiYXBwLnJvdXRlcy5qcyIsImF1dGgvYXV0aC5jb250cm9sbGVyLmpzIiwiYXBwLmpzIiwiYXV0aC9hdXRoLnNlcnZpY2UuanMiLCJhdXRoL2F1dGhJbnRlcmNlcHRvci5zZXJ2aWNlLmpzIiwiY29uZmlnL2NvbmZpZy5jb250cm9sbGVyLmpzIiwiY29uZmlnL2NvbmZpZy5jb250cm9sbGVyLnNwZWMuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLmNvbnRyb2xsZXIuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLnNlcnZpY2UuanMiLCJkYXNoYm9hcmQvbWFwLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5qcyIsInNlcnZpY2VzL3NlcnZlci5zZXJ2aWNlLm1vY2suanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRkYXRlcGlja2VyUHJvdmlkZXIiLCIkdGltZXBpY2tlclByb3ZpZGVyIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJleHRlbmQiLCJkZWZhdWx0cyIsImF1dG9jbG9zZSIsImRhdGVGb3JtYXQiLCJtb2RlbERhdGVGb3JtYXQiLCJkYXRlVHlwZSIsInN0YXJ0V2VlayIsInRpbWVGb3JtYXQiLCJtb2RlbFRpbWVGb3JtYXQiLCJ0aW1lVHlwZSIsImNvbnN0YW50IiwicnVuIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIiRzdGF0ZVBhcmFtcyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJBdXRoQ29udHJvbGxlciIsImF1dGgiLCJzZXJ2ZXIiLCJsb2dpbiIsInZtIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInRoZW4iLCJyZXMiLCJhdXRoZWQiLCJnbyIsInJlc2V0Rm9ybSIsImFsZXJ0IiwibG9nb3V0IiwidGhpcyIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsIm5hbWUiLCJwcmV2ZW50RGVmYXVsdCIsImlzIiwiJGluamVjdCIsIiR3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwidG9rZW4iLCJnZXRUb2tlbiIsInBhcmFtcyIsInBhcnNlSnd0IiwibW9tZW50IiwidW5peCIsImV4cCIsInNhdmVUb2tlbiIsImJhc2U2NFVybCIsInNwbGl0IiwiYmFzZTY0IiwicmVwbGFjZSIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJmYWN0b3J5IiwiYXV0aEludGVyY2VwdG9yIiwicmVxdWVzdCIsInJlc3BvbnNlIiwiZGF0YSIsIkNvbmZpZ0NvbnRyb2xsZXIiLCJ0b2dnbGVFZGl0IiwiaW5kZXgiLCJzZW5zb3JzRWRpdCIsInNlbnNvcnMiLCJ1bmNvbmZpZ3VyZWQiLCJzZW5zb3JWYWxpZCIsInNlbnNvciIsInVuaXRzIiwiZ2V0U2Vuc29ycyIsImkiLCJsZW5ndGgiLCJkZXNjcmliZSIsImN0cmwiLCJiZWZvcmVFYWNoIiwiaW5qZWN0IiwiJGNvbnRyb2xsZXIiLCJfc2VydmVyXyIsIml0IiwiZXhwZWN0IiwidG9CZURlZmluZWQiLCJpc0FycmF5IiwidG9CZSIsImlzRnVuY3Rpb24iLCJEYXNoYm9hcmRDb250cm9sbGVyIiwiJGRvY3VtZW50IiwiZGFzaGJvYXJkIiwibWFwIiwidXBkYXRlQnVveXNGaWx0ZXIiLCJpZCIsImVuYWJsZWQiLCJidW95cyIsInVwZGF0ZUJ1b3lzIiwidXBkYXRlUmVhZGluZ3MiLCJ1cGRhdGVUaW1lc0ZpbHRlciIsInRpbWVzSW5wdXRzVmFsaWQiLCJtb21lbnRGb3JtYXQiLCJ0aW1lcyIsInR5cGUiLCJyYW5nZSIsImZyb20iLCJpbnB1dHMiLCJkYXRlIiwidGltZSIsInRvIiwicG9pbnQiLCJ1cGRhdGVUaW1lcyIsImZyb21EYXRlIiwiZnJvbVRpbWUiLCJ0b0RhdGUiLCJ0b1RpbWUiLCJ1cGRhdGVTZW5zb3JzRmlsdGVyIiwidXBkYXRlU2Vuc29ycyIsImluaXRpYWxpc2UiLCJ1cGRhdGVGaWx0ZXJzIiwicmVhZHkiLCJpbml0aWFsaXNlTWFwIiwiJGZpbHRlciIsInByb21pc2UiLCJnZXRSZWFkaW5ncyIsImNvbnNvbGUiLCJsb2ciLCJyZWFkaW5ncyIsInJlcG9wdWxhdGVGaWx0ZXJzIiwiaW5pdGlhbGlzZUZpbHRlcnMiLCJmaWx0ZXJzIiwicG9wdWxhdGVCdW95cyIsInBvaW50UmVhZGluZ3MiLCJzZW5zb3JJbnB1dHMiLCJwb3B1bGF0ZVNlbnNvcnMiLCJoYXNPd25Qcm9wZXJ0eSIsImJ1b3kiLCJmaWx0ZXJlZFJlYWRpbmdzIiwiZ2V0QnVveXMiLCJnZXRUaW1lcyIsImtleSIsImRpc3BsYXkiLCJjYWxjdWxhdGVQb2ludFJlYWRpbmdzIiwib3B0aW9ucyIsInNlbGVjdGVkIiwidmFsdWUiLCJnZXRPbGRlc3RSZWFkaW5nIiwib2xkZXN0IiwidGltZXN0YW1wIiwiaXNCZWZvcmUiLCJidW95UmVhZGluZ3MiLCJyZWFkaW5nIiwib2xkUmVhZGluZyIsIm5ld1JlYWRpbmciLCJkaWZmT2xkIiwiZGlmZiIsImRpZmZOZXciLCJNYXRoIiwiYWJzIiwiZmlsdGVyQnVveXMiLCJmaWx0ZXJUaW1lcyIsImZpbHRlclNlbnNvciIsImlzQmV0d2VlbiIsInBhcnNlSW50IiwiZ2V0UmVsYXRpdmVBZ2UiLCJtYXgiLCJtaW4iLCJjbG9uZSIsInN1YnRyYWN0IiwiY2FsY3VsYXRlQWdlSW5SYW5nZSIsIm5vUG9pIiwiZmVhdHVyZVR5cGUiLCJlbGVtZW50VHlwZSIsInN0eWxlcnMiLCJ2aXNpYmlsaXR5IiwibWFwT3B0aW9ucyIsInN0eWxlcyIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWRkTGlzdGVuZXIiLCJ6b29tIiwiZ2V0Wm9vbSIsImNlbnRlciIsImdldENlbnRlciIsIm1hcFR5cGVJZCIsImdldE1hcFR5cGVJZCIsImluZm9Cb3hPcGVuIiwiY2xvc2VJbmZvQm94IiwiYWRkTWFya2VyIiwiZW5hYmxlZFJlYWRpbmdzIiwibWFya2VycyIsImluZGV4T2YiLCJkaXNhYmxlTWFya2VyIiwic2V0T3BhY2l0eSIsImNhbGN1bGF0ZU9wYWNpdHkiLCJkaXNhYmxlZE1hcmtlcnMiLCJlbmFibGVNYXJrZXIiLCJtYXJrZXIiLCJNYXJrZXIiLCJwb3NpdGlvbiIsIkxhdExuZyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwib3BhY2l0eSIsIm9wZW5JbmZvQm94Iiwic2V0TWFwIiwiY3VycmVudE1hcmtlcklkIiwic3BsaWNlIiwiYWdlIiwibWluVmlzaWJsZU9wYWNpdHkiLCJpbmZvQm94IiwiY2xvc2UiLCJmb3JtYXR0ZWRUaW1lIiwiZm9ybWF0IiwiY29udGVudCIsImJhdHRlcnkiLCJwcmVzc3VyZSIsInNlYWxldmVsIiwidHVyYmlkaXR5IiwiSW5mb0JveCIsInBpeGVsT2Zmc2V0IiwiU2l6ZSIsInpJbmRleCIsImJveFN0eWxlIiwiY29sb3IiLCJiYWNrZ3JvdW5kLWNvbG9yIiwid2lkdGgiLCJwYWRkaW5nIiwiYm9yZGVyLXJhZGl1cyIsImNsb3NlQm94TWFyZ2luIiwib3BlbiIsIk1hcFR5cGVJZCIsIlJPQURNQVAiLCIkaHR0cCIsIlNFUlZFUl9BRERSRVNTIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJnZXQiLCJkdW1teVNlbnNvcnMiLCJlbWFpbCIsInBvc3QiLCJkZXNjcmlwdGlvbiIsImNvbG91ciIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBRUFBLFNBQUFDLE9BQUEsT0FDQSxZQUNBLGlCQUNBLG9DQUNBLG9DQUNBLHNDQUNBLHlCQUNBLDRCQUNBLDRCQUNBLHdCQUNBLHdCQUNBLFdBRUEsV0FDQSxnQkFDQSxrQkNsQkEsV0FDQSxZQUVB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U0FBQSxXQUNBQyxVQUFBLFdBQ0E5RSxVQUNBMkYsUUFBQSxHQUNBQyxTQUFBLEdBQ0FDLFNBQUEsR0FDQUMsVUFBQSxNQUdBL0gsR0FBQSxHQUNBMEMsS0FBQSxFQUNBWSxVQUFBLFdBQ0F3RCxTQUFBLGFBQ0FDLFVBQUEsYUFDQTlFLFVBQ0EyRixRQUFBLEdBQ0FDLFNBQUEsSUFDQUMsU0FBQSxLQUNBQyxVQUFBLEtBTUEsUUFBQW5KLEtBQ0EsUUFFQW9CLEdBQUEsVUFDQXhELEtBQUEsVUFDQThNLFlBQUEsd0JBQ0FDLE9BQUEsR0FDQTVLLE1BQUEsSUFDQTZLLFdBQUEsRUFDQUMsV0FBQSxJQUNBMUcsU0FBQSxFQUNBdkUsY0FBQSxJQUdBd0IsR0FBQSxZQUNBeEQsS0FBQSxZQUNBOE0sWUFBQSw0QkFDQUMsT0FBQSxHQUNBNUssTUFBQSxPQUNBNkssV0FBQSxFQUNBQyxXQUFBLEdBQ0ExRyxTQUFBLEVBQ0F2RSxjQUFBLElBR0F3QixHQUFBLFdBQ0F4RCxLQUFBLEdBQ0E4TSxZQUFBLEdBQ0FDLE9BQUEsR0FDQTVLLE1BQUEsR0FDQTZLLFdBQUEsR0FDQUMsV0FBQSxHQUNBMUcsU0FBQSxFQUNBdkUsY0FBQSxJQUtBLFFBQUEvQyxNQUlBLFFBQUFVLE1BbkhBLE9BQ0EyRixZQUFBQSxFQUNBbEQsV0FBQUEsRUFDQW5ELE1BQUFBLEVBQ0FVLE9BQUFBLEdBVEE1QyxRQUFBQyxPQUFBLGtCQUNBc0UsUUFBQSxTQUFBdEMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xyXG4gICAgICAgICd1aS5yb3V0ZXInLFxyXG4gICAgICAgICdtZ2NyZWEubmdTdHJhcCcsXHJcbiAgICAgICAgJ21nY3JlYS5uZ1N0cmFwLmhlbHBlcnMuZGltZW5zaW9ucycsXHJcbiAgICAgICAgJ21nY3JlYS5uZ1N0cmFwLmhlbHBlcnMuZGF0ZVBhcnNlcicsXHJcbiAgICAgICAgJ21nY3JlYS5uZ1N0cmFwLmhlbHBlcnMucGFyc2VPcHRpb25zJyxcclxuICAgICAgICAnbWdjcmVhLm5nU3RyYXAudG9vbHRpcCcsXHJcbiAgICAgICAgJ21nY3JlYS5uZ1N0cmFwLmRhdGVwaWNrZXInLFxyXG4gICAgICAgICdtZ2NyZWEubmdTdHJhcC50aW1lcGlja2VyJyxcclxuICAgICAgICAnbWdjcmVhLm5nU3RyYXAuYnV0dG9uJyxcclxuICAgICAgICAnbWdjcmVhLm5nU3RyYXAuc2VsZWN0JyxcclxuICAgICAgICAnY2hhcnQuanMnLFxyXG4gICAgICAgIFxyXG4gICAgICAgICdhcHAuYXV0aCcsXHJcbiAgICAgICAgJ2FwcC5kYXNoYm9hcmQnLFxyXG4gICAgICAgICdhcHAuY29uZmlnJ1xyXG4gICAgXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmF1dGgnLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbmZpZycsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdFxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZGFzaGJvYXJkJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29uZmlnKGZ1bmN0aW9uKCRkYXRlcGlja2VyUHJvdmlkZXIsICR0aW1lcGlja2VyUHJvdmlkZXIsICRodHRwUHJvdmlkZXIpIHtcclxuXHRcdFx0XHJcblx0XHRcdCRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2F1dGhJbnRlcmNlcHRvcicpO1xyXG5cdFx0XHRcclxuXHRcdFx0YW5ndWxhci5leHRlbmQoJGRhdGVwaWNrZXJQcm92aWRlci5kZWZhdWx0cywge1xyXG5cdFx0XHRcdGF1dG9jbG9zZTogdHJ1ZSxcclxuXHRcdFx0XHRkYXRlRm9ybWF0OiAnZC9NL3l5JyxcclxuXHRcdFx0XHRtb2RlbERhdGVGb3JtYXQ6ICdkL00veXknLFxyXG5cdFx0XHRcdGRhdGVUeXBlOiAnc3RyaW5nJyxcclxuXHRcdFx0XHRzdGFydFdlZWs6IDFcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZCgkdGltZXBpY2tlclByb3ZpZGVyLmRlZmF1bHRzLCB7XHJcblx0XHRcdFx0YXV0b2Nsb3NlOiBmYWxzZSxcclxuXHRcdFx0XHR0aW1lRm9ybWF0OiAnaDptbSBhJyxcclxuXHRcdFx0XHRtb2RlbFRpbWVGb3JtYXQ6ICdoOm1tIGEnLFxyXG5cdFx0XHRcdHRpbWVUeXBlOiAnc3RyaW5nJ1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29uc3RhbnQoJ1NFUlZFUl9BRERSRVNTJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0XHQucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zKSB7XHJcblx0XHRcdC8vIGFsbG93IGFjY2VzcyB0byBzdGF0ZSBmcm9tIGFueSBzY29wZXMsIHVzZWZ1bCBmb3IgY3NzIG9uIG5hdmlnYXRpb25cclxuXHRcdFx0JHJvb3RTY29wZS4kc3RhdGUgPSAkc3RhdGU7XHJcblx0XHRcdCRyb290U2NvcGUuJHN0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xyXG5cdFx0fSlcclxuXHRcdFxyXG5cdFx0LmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblx0XHRcdFxyXG5cdFx0XHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvZGFzaGJvYXJkJyk7XHJcblx0XHRcdFxyXG5cdFx0XHQkc3RhdGVQcm92aWRlclxyXG5cdFx0XHRcdC5zdGF0ZSgnbG9naW4nLCB7XHJcblx0XHRcdFx0XHR1cmw6ICcvbG9naW4nLFxyXG5cdFx0XHRcdFx0Ly8gY29udHJvbGxlcjogJ0F1dGhDb250cm9sbGVyJywgbm93IHVzZXMgcGFyZW50IGNvbnRyb2xsZXJcclxuXHRcdFx0XHRcdC8vIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL2FwcC9hdXRoL2xvZ2luLmh0bWwnXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuc3RhdGUoJ2Rhc2hib2FyZCcsIHtcclxuXHRcdFx0XHRcdHVybDogJy9kYXNoYm9hcmQnLFxyXG5cdFx0XHRcdFx0Y29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvYXBwL2Rhc2hib2FyZC9kYXNoYm9hcmQuaHRtbCdcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5zdGF0ZSgnY29uZmlnJywge1xyXG5cdFx0XHRcdFx0dXJsOiAnL2NvbmZpZycsXHJcblx0XHRcdFx0XHRjb250cm9sbGVyOiAnQ29uZmlnQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9hcHAvY29uZmlnL2NvbmZpZy5odG1sJ1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LnN0YXRlKCd3YXJuaW5ncycsIHtcclxuXHRcdFx0XHRcdHVybDogJy93YXJuaW5ncydcclxuXHRcdFx0XHRcdC8vIGNvbnRyb2xsZXI6ICdXYXJuaW5nc0NvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0Ly8gY29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdFx0Ly8gdGVtcGxhdGVVcmw6ICcvYXBwL3dhcm5pbmdzL3dhcm5pbmdzLmh0bWwnXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdFxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXV0aCcpXHJcblx0XHQuY29udHJvbGxlcignQXV0aENvbnRyb2xsZXInLCBBdXRoQ29udHJvbGxlcik7XHJcblx0XHJcblx0ZnVuY3Rpb24gQXV0aENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHN0YXRlLCBhdXRoLCBzZXJ2ZXIpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHRcclxuXHRcdHZtLmF1dGhlZCA9IGF1dGguYXV0aGVkKCk7XHJcblx0XHR2bS5sb2dpbiA9IGxvZ2luO1xyXG5cdFx0dm0ubG9nb3V0ID0gbG9nb3V0O1xyXG5cdFx0XHJcblx0XHRyZXNldEZvcm0oKTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVkaXJlY3QgdG8gbG9naW4gcGFnZSBpZiBub3QgbG9nZ2VkIGluLCBvdGhlcndpc2UgcmVkaXJlY3QgZnJvbSBsb2dpbiBwYWdlXHJcblx0XHQkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSkge1xyXG5cdFx0XHRpZiAoYXV0aC5hdXRoZWQoKSkge1xyXG5cdFx0XHRcdGlmICh0b1N0YXRlLm5hbWUgPT0gJ2xvZ2luJykge1xyXG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdGlmICgkc3RhdGUuaXMoJ2xvZ2luJykpIHtcclxuXHRcdFx0XHRcdFx0JHN0YXRlLmdvKCdkYXNoYm9hcmQnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKHRvU3RhdGUubmFtZSAhPSAnbG9naW4nKSB7XHJcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0JHN0YXRlLmdvKCdsb2dpbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGxvZ2luKCkge1xyXG5cdFx0XHRzZXJ2ZXIubG9naW4odm0udXNlcm5hbWUsIHZtLnBhc3N3b3JkKS50aGVuKFxyXG5cdFx0XHRmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRpZiAoYXV0aC5hdXRoZWQoKSkge1xyXG5cdFx0XHRcdFx0dm0uYXV0aGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdCRzdGF0ZS5nbygnZGFzaGJvYXJkJyk7XHJcblx0XHRcdFx0XHRyZXNldEZvcm0oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdH0sXHJcblx0XHRcdGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdGFsZXJ0KCdJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkJyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBsb2dvdXQoKSB7XHJcblx0XHRcdHNlcnZlci5sb2dvdXQoKTtcclxuXHRcdFx0dm0uYXV0aGVkID0gZmFsc2U7XHJcblx0XHRcdCRzdGF0ZS5nbygnbG9naW4nKTtcdFx0XHRcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gcmVzZXRGb3JtKCkge1xyXG5cdFx0XHR2bS51c2VybmFtZSA9IFwiaW1hZmFrZVwiOyAvLyBvYnZpb3VzbHkgZ2V0IHJpZCBvZiB0aGVzZVxyXG5cdFx0XHR2bS5wYXNzd29yZCA9IFwiZWthZmFtaVwiO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiLG51bGwsIi8qIGdsb2JhbCBtb21lbnQgKi9cclxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmF1dGgnKVxyXG5cdFx0LmZhY3RvcnkoJ2F1dGgnLCBhdXRoKTtcclxuXHRcclxuXHRmdW5jdGlvbiBhdXRoKCR3aW5kb3cpIHtcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRsb2dpbjogbG9naW4sXHJcblx0XHRcdGxvZ291dDogbG9nb3V0LFxyXG5cdFx0XHRhdXRoZWQ6IGF1dGhlZCxcclxuXHRcdFx0Z2V0VG9rZW46IGdldFRva2VuLFxyXG5cdFx0XHRzYXZlVG9rZW46IHNhdmVUb2tlblxyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBsb2dvdXQoKSB7XHJcblx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGF1dGhlZCgpIHtcclxuXHRcdFx0dmFyIHRva2VuID0gZ2V0VG9rZW4oKTtcclxuXHRcdFx0aWYodG9rZW4pIHtcclxuXHRcdFx0XHR2YXIgcGFyYW1zID0gcGFyc2VKd3QodG9rZW4pO1xyXG5cdFx0XHRcdHJldHVybiAobW9tZW50KCkudW5peCgpIDw9IHBhcmFtcy5leHApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHRcclxuXHRcdGZ1bmN0aW9uIHNhdmVUb2tlbih0b2tlbikge1xyXG5cdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZVsndG9rZW4nXSA9IHRva2VuO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRUb2tlbih0b2tlbikge1xyXG5cdFx0XHRyZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ3Rva2VuJ107XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHBhcnNlSnd0KHRva2VuKSB7XHJcblx0XHRcdHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xyXG5cdFx0XHR2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCAnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xyXG5cdFx0XHRyZXR1cm4gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IoYmFzZTY0KSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hdXRoJylcclxuXHRcdC5mYWN0b3J5KCdhdXRoSW50ZXJjZXB0b3InLCBhdXRoSW50ZXJjZXB0b3IpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGF1dGhJbnRlcmNlcHRvcihhdXRoKSB7XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVxdWVzdDogcmVxdWVzdCxcclxuXHRcdFx0cmVzcG9uc2U6IHJlc3BvbnNlXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xyXG5cdFx0XHRyZXR1cm4gY29uZmlnO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiByZXNwb25zZShyZXMpIHtcclxuXHRcdFx0aWYgKHJlcy5kYXRhLnRva2VuKSB7XHJcblx0XHRcdFx0YXV0aC5zYXZlVG9rZW4ocmVzLmRhdGEudG9rZW4pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXM7XHJcblx0XHR9XHJcblx0XHRcclxuXHR9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbmZpZycpXHJcblx0XHQuY29udHJvbGxlcignQ29uZmlnQ29udHJvbGxlcicsIENvbmZpZ0NvbnRyb2xsZXIpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIENvbmZpZ0NvbnRyb2xsZXIoc2VydmVyKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0XHJcblx0XHR2bS5zZW5zb3JzID0gc2VydmVyLmdldFNlbnNvcnMoKTtcclxuXHRcdHZtLnNlbnNvcnNFZGl0ID0gW107XHJcblx0XHR2bS50b2dnbGVFZGl0ID0gdG9nZ2xlRWRpdDtcclxuXHRcdHZtLnNlbnNvclZhbGlkID0gc2Vuc29yVmFsaWQ7XHJcblx0XHRcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdm0uc2Vuc29ycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2bS5zZW5zb3JzRWRpdC5wdXNoKGZhbHNlKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlRWRpdChpbmRleCkge1xyXG5cdFx0XHRpZiAodm0uc2Vuc29yc0VkaXRbaW5kZXhdKSB7XHJcblx0XHRcdFx0dm0uc2Vuc29yc1tpbmRleF0udW5jb25maWd1cmVkID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0dm0uc2Vuc29yc0VkaXRbaW5kZXhdID0gIXZtLnNlbnNvcnNFZGl0W2luZGV4XTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gc2Vuc29yVmFsaWQoc2Vuc29yKSB7XHJcblx0XHRcdGlmICghc2Vuc29yLm5hbWUgfHwgIXNlbnNvci51bml0cykge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRkZXNjcmliZSgnQ29udHJvbGxlcjogQ29uZmlnQ29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyICRjb250cm9sbGVyLCBjdHJsO1xyXG5cdFx0XHJcblx0XHRiZWZvcmVFYWNoKG1vZHVsZSgnYXBwLmNvbmZpZycpKTtcclxuXHRcdGJlZm9yZUVhY2gobW9kdWxlKCdtb2NrLnNlcnZlcicpKTtcclxuXHRcdFxyXG5cdFx0YmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24oJGNvbnRyb2xsZXIsIF9zZXJ2ZXJfKSB7XHJcblx0XHRcdGN0cmwgPSAkY29udHJvbGxlcignQ29uZmlnQ29udHJvbGxlcicsIHtcclxuXHRcdFx0XHRzZXJ2ZXI6IF9zZXJ2ZXJfXHJcblx0XHRcdH0pO1xyXG5cdFx0fSkpO1xyXG5cdFx0XHJcblx0XHRkZXNjcmliZSgnU3RhdGUnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0aXQoJ3Nob3VsZCBleGlzdCcsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGV4cGVjdChjdHJsKS50b0JlRGVmaW5lZCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdGl0KCdzaG91bGQgZXhwb3NlIHNlbnNvcnMgYW5kIHNlbnNvciBlZGl0IHZhbHVlJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0ZXhwZWN0KGFuZ3VsYXIuaXNBcnJheShjdHJsLnNlbnNvcnMpKS50b0JlKHRydWUpO1xyXG5cdFx0XHRcdGV4cGVjdChhbmd1bGFyLmlzQXJyYXkoY3RybC5zZW5zb3JzRWRpdCkpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0aXQoJ3Nob3VsZCBleHBvc2UgYSBtZXRob2QgdG8gZWRpdCBzZW5zb3JzJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0ZXhwZWN0KGN0cmwudG9nZ2xlRWRpdCkudG9CZURlZmluZWQoKTtcclxuXHRcdFx0XHRleHBlY3QoYW5ndWxhci5pc0Z1bmN0aW9uKGN0cmwudG9nZ2xlRWRpdCkpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0aXQoJ3Nob3VsZCBleHBvc2Ugc2Vuc29yIHZhbGlkYXRpb24nLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRleHBlY3QoY3RybC5zZW5zb3JWYWxpZCkudG9CZURlZmluZWQoKTtcclxuXHRcdFx0XHRleHBlY3QoYW5ndWxhci5pc0Z1bmN0aW9uKGN0cmwuc2Vuc29yVmFsaWQpKS50b0JlKHRydWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdGl0KCdzZW5zb3IgZWRpdCBhcnJheSBzaG91bGQgYmUgc2FtZSBsZW5ndGggYXMgc2Vuc29yIGFycmF5JywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0ZXhwZWN0KGN0cmwuc2Vuc29ycy5sZW5ndGgpLnRvQmUoY3RybC5zZW5zb3JzRWRpdC5sZW5ndGgpO1xyXG5cdFx0XHR9KVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHR9KTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdFxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZGFzaGJvYXJkJylcclxuXHRcdC5jb250cm9sbGVyKCdEYXNoYm9hcmRDb250cm9sbGVyJywgRGFzaGJvYXJkQ29udHJvbGxlcik7XHJcblx0XHRcclxuXHRmdW5jdGlvbiBEYXNoYm9hcmRDb250cm9sbGVyKCRkb2N1bWVudCwgZGFzaGJvYXJkLCBtYXApIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHRcdFxyXG5cdFx0dm0uYnVveXMgPSBkYXNoYm9hcmQuYnVveXMoKTtcclxuXHRcdHZtLnRpbWVzID0gZGFzaGJvYXJkLnRpbWVzKCk7XHJcblx0XHR2bS5zZW5zb3JzID0gZGFzaGJvYXJkLnNlbnNvcnMoKTtcclxuXHRcdHZtLnVwZGF0ZUJ1b3lzRmlsdGVyID0gdXBkYXRlQnVveXNGaWx0ZXI7XHJcblx0XHR2bS51cGRhdGVUaW1lc0ZpbHRlciA9IHVwZGF0ZVRpbWVzRmlsdGVyO1xyXG5cdFx0dm0udXBkYXRlU2Vuc29yc0ZpbHRlciA9IHVwZGF0ZVNlbnNvcnNGaWx0ZXI7XHJcblx0XHRcclxuXHRcdGRhc2hib2FyZC5pbml0aWFsaXNlKCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0dm0uYnVveXMgPSBkYXNoYm9hcmQuYnVveXMoKTtcclxuXHRcdFx0dm0udGltZXMgPSBkYXNoYm9hcmQudGltZXMoKTtcclxuXHRcdFx0dm0uc2Vuc29ycyA9IGRhc2hib2FyZC5zZW5zb3JzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRkYXNoYm9hcmQudXBkYXRlRmlsdGVycygpO1xyXG5cdFx0XHRtYXAudXBkYXRlUmVhZGluZ3MoKTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHR2YXIgZGF0ZUZvcm1hdCA9IFwiRC9NL1lZXCI7XHJcblx0XHR2YXIgdGltZUZvcm1hdCA9IFwiaDptbSBBXCI7XHJcblx0XHRcdFxyXG5cdFx0JGRvY3VtZW50LnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRtYXAuaW5pdGlhbGlzZU1hcCgpO1xyXG5cdFx0XHQvLyBkYXNoYm9hcmQudXBkYXRlRmlsdGVycygpO1xyXG5cdFx0XHQvLyBtYXAudXBkYXRlUmVhZGluZ3MoKTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVCdW95c0ZpbHRlcihpZCwgZW5hYmxlZCkge1xyXG5cdFx0XHR2bS5idW95c1tpZF0gPSBlbmFibGVkO1xyXG5cdFx0XHRkYXNoYm9hcmQudXBkYXRlQnVveXMoKTtcclxuXHRcdFx0bWFwLnVwZGF0ZVJlYWRpbmdzKCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVRpbWVzRmlsdGVyKCkge1xyXG5cdFx0XHQvLyBjb252ZXJ0IGlucHV0IHN0cmluZ3MgdG8gbW9tZW50cyBcclxuXHRcdFx0Ly8gYW5kIHVwZGF0ZSB2bS50aW1lcywgd2hpY2ggdXBkYXRlcyByZWZlcmVuY2UgaW4gZGFzaGJvYXJkIHNlcnZpY2VcclxuXHRcdFx0aWYgKHRpbWVzSW5wdXRzVmFsaWQoKSkge1xyXG5cdFx0XHRcdHZhciBtb21lbnRGb3JtYXQgPSBkYXRlRm9ybWF0ICsgXCIgXCIgKyB0aW1lRm9ybWF0O1xyXG5cdFx0XHRcdGlmICh2bS50aW1lcy50eXBlID09ICdyYW5nZScpIHtcclxuXHRcdFx0XHRcdHZtLnRpbWVzLnJhbmdlLmZyb20gPSBtb21lbnQodm0udGltZXMuaW5wdXRzLnJhbmdlLmZyb20uZGF0ZVxyXG5cdFx0XHRcdFx0XHQrIFwiIFwiICsgdm0udGltZXMuaW5wdXRzLnJhbmdlLmZyb20udGltZSwgbW9tZW50Rm9ybWF0KTtcclxuXHRcdFx0XHRcdHZtLnRpbWVzLnJhbmdlLnRvID0gbW9tZW50KHZtLnRpbWVzLmlucHV0cy5yYW5nZS50by5kYXRlXHJcblx0XHRcdFx0XHRcdCsgXCIgXCIgKyB2bS50aW1lcy5pbnB1dHMucmFuZ2UudG8udGltZSwgbW9tZW50Rm9ybWF0KTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHZtLnRpbWVzLnR5cGUgPT0gJ3BvaW50Jykge1xyXG5cdFx0XHRcdFx0dm0udGltZXMucG9pbnQgPSBtb21lbnQodm0udGltZXMuaW5wdXRzLnBvaW50LmRhdGVcclxuXHRcdFx0XHRcdFx0KyBcIiBcIiArIHZtLnRpbWVzLmlucHV0cy5wb2ludC50aW1lLCBtb21lbnRGb3JtYXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRkYXNoYm9hcmQudXBkYXRlVGltZXMoKTtcclxuXHRcdFx0XHRtYXAudXBkYXRlUmVhZGluZ3MoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB0aW1lc0lucHV0c1ZhbGlkKCkge1xyXG5cdFx0XHRpZiAodm0udGltZXMudHlwZSA9PSAnYWxsJykge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh2bS50aW1lcy50eXBlID09ICdyYW5nZScpIHtcclxuXHRcdFx0XHQvLyB2YWxpZCBjb21iaW5hdGlvbnM6IGFsbCBmaWxsZWQsIGRhdGVzIGZpbGxlZCwgdGltZXMgZmlsbGVkXHJcblx0XHRcdFx0dmFyIGZyb21EYXRlID0gdm0udGltZXMuaW5wdXRzLnJhbmdlLmZyb20uZGF0ZTtcclxuXHRcdFx0XHR2YXIgZnJvbVRpbWUgPSB2bS50aW1lcy5pbnB1dHMucmFuZ2UuZnJvbS50aW1lO1xyXG5cdFx0XHRcdHZhciB0b0RhdGUgPSB2bS50aW1lcy5pbnB1dHMucmFuZ2UudG8uZGF0ZTtcclxuXHRcdFx0XHR2YXIgdG9UaW1lID0gdm0udGltZXMuaW5wdXRzLnJhbmdlLnRvLnRpbWU7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKGZyb21EYXRlICYmIGZyb21UaW1lICYmIHRvRGF0ZSAmJiB0b1RpbWUpIHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdC8vIGlmIChmcm9tRGF0ZSAmJiAhZnJvbVRpbWUgJiYgdG9EYXRlICYmICF0b1RpbWUpIHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdC8vIGlmIChmcm9tRGF0ZSAmJiBmcm9tVGltZSAmJiB0b0RhdGUgJiYgdG9UaW1lKSByZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodm0udGltZXMudHlwZSA9PSAncG9pbnQnKSB7XHJcblx0XHRcdFx0Ly8gbXVzdCBoYXZlIGRhdGUsIHRpbWUgaXMgb3B0aW9uYWxcclxuXHRcdFx0XHRpZiAodm0udGltZXMuaW5wdXRzLnBvaW50LmRhdGUpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVTZW5zb3JzRmlsdGVyKCkge1xyXG5cdFx0XHRkYXNoYm9hcmQudXBkYXRlU2Vuc29ycygpO1xyXG5cdFx0XHRtYXAudXBkYXRlUmVhZGluZ3MoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmRhc2hib2FyZCcpXHJcblx0XHQuZmFjdG9yeSgnZGFzaGJvYXJkJywgZGFzaGJvYXJkKTtcclxuXHRcdFxyXG5cdGZ1bmN0aW9uIGRhc2hib2FyZCgkZmlsdGVyLCBzZXJ2ZXIpIHtcclxuXHRcdHZhciByZWFkaW5ncyA9IFtdO1xyXG5cdFx0dmFyIGZpbHRlcmVkUmVhZGluZ3MgPSBbXTtcclxuXHRcdFxyXG5cdFx0dmFyIGZpbHRlcnMgPSB7fTtcclxuXHRcdGluaXRpYWxpc2VGaWx0ZXJzKCk7XHJcblx0XHRcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGluaXRpYWxpc2U6IGluaXRpYWxpc2UsXHJcblx0XHRcdHJlYWRpbmdzOiBnZXRSZWFkaW5ncyxcclxuXHRcdFx0YnVveXM6IGdldEJ1b3lzLFxyXG5cdFx0XHR0aW1lczogZ2V0VGltZXMsXHJcblx0XHRcdHNlbnNvcnM6IGdldFNlbnNvcnMsXHJcblx0XHRcdHVwZGF0ZUJ1b3lzOiB1cGRhdGVCdW95cyxcclxuXHRcdFx0dXBkYXRlVGltZXM6IHVwZGF0ZVRpbWVzLFxyXG5cdFx0XHR1cGRhdGVGaWx0ZXJzOiB1cGRhdGVGaWx0ZXJzLFxyXG5cdFx0XHR1cGRhdGVTZW5zb3JzOiB1cGRhdGVTZW5zb3JzLFxyXG5cdFx0XHRnZXRPbGRlc3RSZWFkaW5nOiBnZXRPbGRlc3RSZWFkaW5nLFxyXG5cdFx0XHRnZXRSZWxhdGl2ZUFnZTogZ2V0UmVsYXRpdmVBZ2VcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGluaXRpYWxpc2UoKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gc2VydmVyLmdldFJlYWRpbmdzKCk7XHJcblx0XHRcdHByb21pc2UudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xyXG5cdFx0XHRcdHJlYWRpbmdzID0gcmVzLmRhdGE7XHJcblx0XHRcdFx0cmVwb3B1bGF0ZUZpbHRlcnMoKTtcclxuXHRcdFx0fSwgZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yJyk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2cocmVzKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiBwcm9taXNlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBpbml0aWFsaXNlRmlsdGVycygpIHtcclxuXHRcdFx0ZmlsdGVycy5idW95cyA9IHt9OyAvLyB7IGJ1b3lJZDogZW5hYmxlZCB9XHJcblx0XHRcdHBvcHVsYXRlQnVveXMoKTtcclxuXHRcdFx0XHJcblx0XHRcdGZpbHRlcnMudGltZXMgPSB7XHJcblx0XHRcdFx0dHlwZTogXCJhbGxcIixcclxuXHRcdFx0XHRyYW5nZTogeyBmcm9tOiBudWxsLCB0bzogbnVsbCB9LCAvLyBmcm9tIGFuZCB0byBjb250YWluIG1vbWVudHNcclxuXHRcdFx0XHRwb2ludDogbnVsbCxcclxuXHRcdFx0XHRwb2ludFJlYWRpbmdzOiB7fSwgLy8gY29udGFpbnMgbGlzdCBvZiBjbG9zZXN0IHJlYWRpbmdzIHRvIHBvaW50XHJcblx0XHRcdFx0aW5wdXRzOiB7XHJcblx0XHRcdFx0XHRyYW5nZToge1xyXG5cdFx0XHRcdFx0XHRmcm9tOiB7IGRhdGU6IFwiXCIsIHRpbWU6IFwiXCIgfSxcclxuXHRcdFx0XHRcdFx0dG86IHsgZGF0ZTogXCJcIiwgdGltZTogXCJcIiB9LFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHBvaW50OiB7IGRhdGU6IFwiXCIsIHRpbWU6IFwiXCIgfSxcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGZpbHRlcnMuc2Vuc29ycyA9IHt9O1xyXG5cdFx0XHRmaWx0ZXJzLnNlbnNvcklucHV0cyA9IHt9O1xyXG5cdFx0XHRwb3B1bGF0ZVNlbnNvcnMoKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gcmVwb3B1bGF0ZUZpbHRlcnMoKSB7XHJcblx0XHRcdHBvcHVsYXRlQnVveXMoKTtcclxuXHRcdFx0cG9wdWxhdGVTZW5zb3JzKCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHBvcHVsYXRlQnVveXMoKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcmVhZGluZ3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoIWZpbHRlcnMuYnVveXMuaGFzT3duUHJvcGVydHkocmVhZGluZ3NbaV0uYnVveSkpIHtcclxuXHRcdFx0XHRcdGZpbHRlcnMuYnVveXNbcmVhZGluZ3NbaV0uYnVveV0gPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlYWRpbmdzKCkge1xyXG5cdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWFkaW5ncztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gZ2V0QnVveXMoKSB7XHJcblx0XHRcdHJldHVybiBmaWx0ZXJzLmJ1b3lzO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRUaW1lcygpIHtcclxuXHRcdFx0cmV0dXJuIGZpbHRlcnMudGltZXM7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldFNlbnNvcnMoKSB7XHJcblx0XHRcdHBvcHVsYXRlU2Vuc29ycygpO1xyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gZmlsdGVycy5zZW5zb3JJbnB1dHMpIHtcclxuXHRcdFx0XHRpZiAoZmlsdGVycy5zZW5zb3JJbnB1dHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0ZmlsdGVycy5zZW5zb3JzW2tleV0uaW5wdXRzID0gZmlsdGVycy5zZW5zb3JJbnB1dHNba2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHNlbnNvcnMgPSBbXTsgXHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBmaWx0ZXJzLnNlbnNvcnMpIHtcclxuXHRcdFx0XHRpZiAoZmlsdGVycy5zZW5zb3JzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdGlmIChmaWx0ZXJzLnNlbnNvcnNba2V5XS5kaXNwbGF5KSB7XHJcblx0XHRcdFx0XHRcdHNlbnNvcnMucHVzaChmaWx0ZXJzLnNlbnNvcnNba2V5XSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBzZW5zb3JzO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVCdW95cygpIHtcclxuXHRcdFx0dXBkYXRlRmlsdGVycygpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUaW1lcygpIHtcclxuXHRcdFx0aWYgKGZpbHRlcnMudGltZXMudHlwZSA9PSAncG9pbnQnKSB7XHJcblx0XHRcdFx0Y2FsY3VsYXRlUG9pbnRSZWFkaW5ncygpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHVwZGF0ZUZpbHRlcnMoKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlU2Vuc29ycygpIHtcclxuXHRcdFx0dXBkYXRlRmlsdGVycygpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBwb3B1bGF0ZVNlbnNvcnMoKSB7XHJcblx0XHRcdHZhciBzZW5zb3JzID0gc2VydmVyLmdldFNlbnNvcnMoKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzZW5zb3JzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0ZmlsdGVycy5zZW5zb3JzW3NlbnNvcnNbaV0uaWRdID0gc2Vuc29yc1tpXTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoIWZpbHRlcnMuc2Vuc29ySW5wdXRzLmhhc093blByb3BlcnR5KHNlbnNvcnNbaV0uaWQpKSB7XHJcblx0XHRcdFx0XHRmaWx0ZXJzLnNlbnNvcklucHV0c1tzZW5zb3JzW2ldLmlkXSA9IHtcclxuXHRcdFx0XHRcdFx0ZW5hYmxlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdG9wdGlvbnM6IFtcIj5cIiwgXCI8XCIsIFwiPVwiXSxcclxuXHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IFwiPlwiLFxyXG5cdFx0XHRcdFx0XHR2YWx1ZTogXCJcIlxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBkaXNhYmxlIGlucHV0cyB3aGljaCBhcmVuJ3Qgc2V0IHRvIGRpc3BsYXlcclxuXHRcdFx0XHRpZiAoIXNlbnNvcnNbaV0uZGlzcGxheSkge1xyXG5cdFx0XHRcdFx0ZmlsdGVycy5zZW5zb3JJbnB1dHNbc2Vuc29yc1tpXS5pZF0uZW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldE9sZGVzdFJlYWRpbmcoKSB7XHJcblx0XHRcdHZhciByZWFkaW5ncyA9IGZpbHRlcmVkUmVhZGluZ3M7XHJcblx0XHRcdHZhciBvbGRlc3QgPSBtb21lbnQudW5peChyZWFkaW5nc1swXS50aW1lc3RhbXApO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMTsgaSA8IHJlYWRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKG1vbWVudC51bml4KHJlYWRpbmdzW2ldLnRpbWVzdGFtcCkuaXNCZWZvcmUob2xkZXN0KSkge1xyXG5cdFx0XHRcdFx0b2xkZXN0ID0gbW9tZW50LnVuaXgocmVhZGluZ3NbaV0udGltZXN0YW1wKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG9sZGVzdDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gY2FsY3VsYXRlUG9pbnRSZWFkaW5ncygpIHtcclxuXHRcdFx0dmFyIGJ1b3lSZWFkaW5ncyA9IHt9O1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlYWRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIHJlYWRpbmcgPSByZWFkaW5nc1tpXTtcclxuXHRcdFx0XHRpZiAoYnVveVJlYWRpbmdzLmhhc093blByb3BlcnR5KHJlYWRpbmcuYnVveSkpIHtcclxuXHRcdFx0XHRcdC8vIGRldGVybWluZSB3aGljaCByZWFkaW5nIGlzIGNsb3NlciB0byBwb2ludFxyXG5cdFx0XHRcdFx0dmFyIG9sZFJlYWRpbmcgPSBidW95UmVhZGluZ3NbcmVhZGluZy5idW95XS50aW1lO1xyXG5cdFx0XHRcdFx0dmFyIG5ld1JlYWRpbmcgPSByZWFkaW5nLnRpbWVzdGFtcDtcclxuXHRcdFx0XHRcdFx0XHQgXHJcblx0XHRcdFx0XHR2YXIgZGlmZk9sZCA9IG1vbWVudC51bml4KG9sZFJlYWRpbmcpLmRpZmYoZmlsdGVycy50aW1lcy5wb2ludCk7XHJcblx0XHRcdFx0XHR2YXIgZGlmZk5ldyA9IG1vbWVudC51bml4KG5ld1JlYWRpbmcpLmRpZmYoZmlsdGVycy50aW1lcy5wb2ludCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGlmIChNYXRoLmFicyhkaWZmTmV3KSA8IE1hdGguYWJzKGRpZmZPbGQpKSB7XHJcblx0XHRcdFx0XHRcdGJ1b3lSZWFkaW5nc1tyZWFkaW5nLmJ1b3ldID0ge1xyXG5cdFx0XHRcdFx0XHRcdGlkOiByZWFkaW5nLmlkLFxyXG5cdFx0XHRcdFx0XHRcdHRpbWU6IHJlYWRpbmcudGltZXN0YW1wXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9IFxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRidW95UmVhZGluZ3NbcmVhZGluZy5idW95XSA9IHtcclxuXHRcdFx0XHRcdFx0aWQ6IHJlYWRpbmcuaWQsXHJcblx0XHRcdFx0XHRcdHRpbWU6IHJlYWRpbmcudGltZXN0YW1wXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRmaWx0ZXJzLnRpbWVzLnBvaW50UmVhZGluZ3MgPSBidW95UmVhZGluZ3M7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUZpbHRlcnMoKSB7XHJcblx0XHRcdGZpbHRlcmVkUmVhZGluZ3MgPSAkZmlsdGVyKCdmaWx0ZXInKShyZWFkaW5ncywgZnVuY3Rpb24ocmVhZGluZykge1xyXG5cdFx0XHRcdGlmICghZmlsdGVyQnVveXMocmVhZGluZykpIHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRpZiAoIWZpbHRlclRpbWVzKHJlYWRpbmcpKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGZpbHRlcnMuc2Vuc29ySW5wdXRzKSB7XHJcblx0XHRcdFx0XHRpZiAoZmlsdGVycy5zZW5zb3JJbnB1dHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIWZpbHRlclNlbnNvcihrZXksIGZpbHRlcnMuc2Vuc29ySW5wdXRzW2tleV0sIHJlYWRpbmcpKSBcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gZmlsdGVyQnVveXMocmVhZGluZykge1xyXG5cdFx0XHRpZiAoIWZpbHRlcnMuYnVveXNbcmVhZGluZy5idW95XSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gZmlsdGVyVGltZXMocmVhZGluZykge1xyXG5cdFx0XHRpZiAoZmlsdGVycy50aW1lcy50eXBlID09ICdyYW5nZScpIHtcclxuXHRcdFx0XHR2YXIgdGltZSA9IG1vbWVudC51bml4KHJlYWRpbmcudGltZXN0YW1wKTtcclxuXHRcdFx0XHRpZiAoIXRpbWUuaXNCZXR3ZWVuKGZpbHRlcnMudGltZXMucmFuZ2UuZnJvbSwgZmlsdGVycy50aW1lcy5yYW5nZS50bykpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoZmlsdGVycy50aW1lcy50eXBlID09ICdwb2ludCcpIHtcclxuXHRcdFx0XHRpZiAoZmlsdGVycy50aW1lcy5wb2ludFJlYWRpbmdzLmhhc093blByb3BlcnR5KHJlYWRpbmcuYnVveSkpIHtcclxuXHRcdFx0XHRcdGlmIChmaWx0ZXJzLnRpbWVzLnBvaW50UmVhZGluZ3NbcmVhZGluZy5idW95XS5pZCAhPSByZWFkaW5nLmlkKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGZpbHRlclNlbnNvcihpZCwgc2Vuc29yLCByZWFkaW5nKSB7XHJcblx0XHRcdGlmICghc2Vuc29yLmVuYWJsZWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgdmFsdWUgPSBwYXJzZUludChzZW5zb3IudmFsdWUsIDEwKTtcclxuXHRcdFx0aWYgKHNlbnNvci5zZWxlY3RlZCA9PSBcIj5cIikge1xyXG5cdFx0XHRcdGlmIChyZWFkaW5nLnJlYWRpbmdzW2lkXSA8PSB2YWx1ZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChzZW5zb3Iuc2VsZWN0ZWQgPT0gXCI8XCIpIHtcclxuXHRcdFx0XHRpZiAocmVhZGluZy5yZWFkaW5nc1tpZF0gPj0gdmFsdWUpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoc2Vuc29yLnNlbGVjdGVkID09IFwiPVwiKSB7XHJcblx0XHRcdFx0aWYgKHJlYWRpbmcucmVhZGluZ3NbaWRdICE9IHZhbHVlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRSZWxhdGl2ZUFnZShyZWFkaW5nKSB7XHJcblx0XHRcdC8vIHJldHVybnMgYWdlIGJldHdlZW4gMCBhbmQgMSwgYmFzZWQgb24gYSByYW5nZSBkZXRlcm1pbmVkIGFzIHNlZW4gYmVsb3dcclxuXHRcdFx0dmFyIHRpbWUgPSBtb21lbnQudW5peChyZWFkaW5nLnRpbWVzdGFtcCk7XHJcblx0XHRcdHZhciB0aW1lcyA9IGZpbHRlcnMudGltZXM7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAodGltZXMudHlwZSA9PSAnYWxsJykge1xyXG5cdFx0XHRcdC8vIHJhbmdlOiBmcm9tIDIgd2Vla3MgYWdvIHVudGlsIG5vd1xyXG5cdFx0XHRcdHZhciBtYXggPSBtb21lbnQoKTtcclxuXHRcdFx0XHR2YXIgbWluID0gbWF4LmNsb25lKCkuc3VidHJhY3QoMiwgJ3dlZWtzJyk7XHJcblx0XHRcdFx0cmV0dXJuIGNhbGN1bGF0ZUFnZUluUmFuZ2UodGltZSwgbWluLCBtYXgpO1xyXG5cdFx0XHRcclxuXHRcdFx0fSBlbHNlIGlmICh0aW1lcy50eXBlID09ICdyYW5nZScpIHtcclxuXHRcdFx0XHQvLyByYW5nZTogcmFuZ2Ugb2YgdGltZSBmaWx0ZXJzXHJcblx0XHRcdFx0dmFyIG1heCA9IHRpbWVzLnJhbmdlLnRvO1xyXG5cdFx0XHRcdHZhciBtaW4gPSB0aW1lcy5yYW5nZS5mcm9tO1xyXG5cdFx0XHRcdHJldHVybiBjYWxjdWxhdGVBZ2VJblJhbmdlKHRpbWUsIG1pbiwgbWF4KTtcclxuXHRcdFx0XHJcblx0XHRcdH0gIGVsc2UgaWYgKHRpbWVzLnR5cGUgPT0gJ3BvaW50Jykge1xyXG5cdFx0XHRcdC8vIHJhbmdlOiBmcm9tIHR3byB3ZWVrcyBiZWZvcmUgcG9pbnQgdW50aWwgcG9pbnRcclxuXHRcdFx0XHRpZiAodGltZXMucG9pbnQgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdHJldHVybiAxLjA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBtYXggPSB0aW1lcy5wb2ludDtcclxuXHRcdFx0XHR2YXIgbWluID0gbWF4LmNsb25lKCkuc3VidHJhY3QoMiwgJ3dlZWtzJyk7XHJcblx0XHRcdFx0cmV0dXJuIGNhbGN1bGF0ZUFnZUluUmFuZ2UodGltZSwgbWluLCBtYXgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGNhbGN1bGF0ZUFnZUluUmFuZ2UodGltZSwgbWluLCBtYXgpIHtcclxuXHRcdFx0aWYgKHRpbWUuaXNCZWZvcmUobWluKSkge1xyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCF0aW1lLmlzQmVmb3JlKG1heCkpIHtcclxuXHRcdFx0XHRyZXR1cm4gMS4wO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiAodGltZS5kaWZmKG1pbikgLyBtYXguZGlmZihtaW4pKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7IiwiLyogZ2xvYmFsIG1vbWVudCAqL1xyXG4vKiBnbG9iYWwgZ29vZ2xlICovXHJcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5kYXNoYm9hcmQnKVxyXG5cdFx0LmZhY3RvcnkoJ21hcCcsIG1hcCk7XHJcblx0XHRcclxuXHRmdW5jdGlvbiBtYXAoZGFzaGJvYXJkKSB7XHJcblx0XHRcdFx0XHJcblx0XHR2YXIgbWFwO1xyXG5cdFx0dmFyIG1hcE9wdGlvbnMgPSB7XHJcblx0XHRcdHpvb206IDExLFxyXG5cdFx0XHRjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoLTI3LjU3MzcwNCwgMTUzLjA1NTgxOCksXHJcblx0XHRcdG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcclxuXHRcdH07XHJcblx0XHR2YXIgbWFya2VycyA9IHt9O1xyXG5cdFx0dmFyIGRpc2FibGVkTWFya2VycyA9IFtdO1xyXG5cdFx0dmFyIGluZm9Cb3g7XHJcblx0XHR2YXIgaW5mb0JveE9wZW4gPSBmYWxzZTtcclxuXHRcdHZhciBjdXJyZW50TWFya2VySWQgPSAtMTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0aW5pdGlhbGlzZU1hcDogaW5pdGlhbGlzZU1hcCxcclxuXHRcdFx0dXBkYXRlUmVhZGluZ3M6IHVwZGF0ZVJlYWRpbmdzXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGluaXRpYWxpc2VNYXAoKSB7XHJcblx0XHRcdC8vIGRpc2FibGUgcG9pbnRzIG9mIGludGVyZXN0XHJcblx0XHRcdHZhciBub1BvaSA9IFtcclxuXHRcdFx0ICAgIHtcclxuXHRcdFx0ICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2lcIixcclxuXHRcdFx0ICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHNcIixcclxuXHRcdFx0ICAgICAgICBzdHlsZXJzOiBbXHJcblx0XHRcdCAgICAgICAgICAgICAgeyB2aXNpYmlsaXR5OiBcIm9mZlwiIH1cclxuXHRcdFx0ICAgICAgICBdXHJcblx0XHRcdCAgICB9LFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0ICAgICAgICBmZWF0dXJlVHlwZTogXCJ0cmFuc2l0LnN0YXRpb25cIixcclxuXHRcdFx0ICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHNcIixcclxuXHRcdFx0ICAgICAgICBzdHlsZXJzOiBbXHJcblx0XHRcdCAgICAgICAgICAgICAgeyB2aXNpYmlsaXR5OiBcIm9mZlwiIH1cclxuXHRcdFx0ICAgICAgICBdXHJcblx0XHRcdCAgICB9XHJcblx0XHRcdF07XHJcblx0XHRcdG1hcE9wdGlvbnMuc3R5bGVzID0gbm9Qb2k7XHJcblx0XHRcdFxyXG5cdFx0XHRtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwLWNhbnZhc1wiKSwgbWFwT3B0aW9ucyk7IFxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ3pvb21fY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdG1hcE9wdGlvbnMuem9vbSA9IG1hcC5nZXRab29tKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Z29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwLCAnY2VudGVyX2NoYW5nZWQnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRtYXBPcHRpb25zLmNlbnRlciA9IG1hcC5nZXRDZW50ZXIoKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXAsICdtYXB0eXBlaWRfY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdG1hcE9wdGlvbnMubWFwVHlwZUlkID0gbWFwLmdldE1hcFR5cGVJZCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHQgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdCAgICAgICAgaWYgKGluZm9Cb3hPcGVuKSB7XHJcblx0XHRcdFx0XHRjbG9zZUluZm9Cb3goKTtcclxuXHRcdFx0XHR9XHJcblx0XHQgICAgfSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBtYXJrIHJlYWRpbmdzXHJcblx0XHRcdHZhciByZWFkaW5ncyA9IGRhc2hib2FyZC5yZWFkaW5ncygpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlYWRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0YWRkTWFya2VyKHJlYWRpbmdzW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVSZWFkaW5ncygpIHtcclxuXHRcdFx0dmFyIHJlYWRpbmdzID0gZGFzaGJvYXJkLnJlYWRpbmdzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjcmVhdGUgYW4gYXJyYXkgb2YgcmVhZGluZ3Mgd2hpY2ggc2hvdWxkIGJlIGVuYWJsZWRcclxuXHRcdFx0dmFyIGVuYWJsZWRSZWFkaW5ncyA9IFtdO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlYWRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0ZW5hYmxlZFJlYWRpbmdzLnB1c2gocmVhZGluZ3NbaV0uaWQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBkaXNhYmxlIG1hcmtlcnMgd2hpY2ggc2hvdWxkbid0IGJlIGVuYWJsZWRcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIG1hcmtlcnMpIHtcclxuXHRcdFx0XHRpZiAobWFya2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRrZXkgPSBwYXJzZUludChrZXksIDEwKTtcclxuXHRcdFx0XHRcdGlmIChlbmFibGVkUmVhZGluZ3MuaW5kZXhPZihrZXkpID09IC0xKSB7XHJcblx0XHRcdFx0XHRcdGRpc2FibGVNYXJrZXIoa2V5KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGFkZCBhbmQgcmUtZW5hYmxlIG1hcmtlcnNcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCByZWFkaW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpZCA9IHJlYWRpbmdzW2ldLmlkO1xyXG5cdFx0XHRcdGlmICghbWFya2Vycy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcclxuXHRcdFx0XHRcdGFkZE1hcmtlcihyZWFkaW5nc1tpXSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIHVwZGF0ZSBvcGFjaXR5XHJcblx0XHRcdFx0XHRtYXJrZXJzW2lkXS5zZXRPcGFjaXR5KGNhbGN1bGF0ZU9wYWNpdHkocmVhZGluZ3NbaV0pKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gcmUtZW5hYmxlIGRpc2FibGVkIG1hcmtlcnNcclxuXHRcdFx0XHRcdGlmIChkaXNhYmxlZE1hcmtlcnMuaW5kZXhPZihpZCkgIT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0ZW5hYmxlTWFya2VyKGlkKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gYWRkTWFya2VyKHJlYWRpbmcpIHtcclxuXHRcdFx0dmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG5cdFx0XHRcdHBvc2l0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHJlYWRpbmcubGF0aXR1ZGUsIHJlYWRpbmcubG9uZ2l0dWRlKSxcclxuXHRcdFx0XHRtYXA6IG1hcCxcclxuXHRcdFx0XHQvLyB0aXRsZTogJ0J1b3kgJyArIHJlYWRpbmcuYnVveSArICc6IHJlYWRpbmcgJyArIHJlYWRpbmcuaWQsXHJcblx0XHRcdFx0b3BhY2l0eTogY2FsY3VsYXRlT3BhY2l0eShyZWFkaW5nKVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0b3BlbkluZm9Cb3gocmVhZGluZywgbWFya2VyKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRtYXJrZXJzW3JlYWRpbmcuaWRdID0gbWFya2VyO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBkaXNhYmxlTWFya2VyKGlkKSB7XHJcblx0XHRcdG1hcmtlcnNbaWRdLnNldE1hcChudWxsKTtcclxuXHRcdFx0ZGlzYWJsZWRNYXJrZXJzLnB1c2goaWQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY2xvc2UgaW5mb2JveCBvZiBkaXNhYmxlZCBtYXJrZXJcclxuXHRcdFx0aWYgKGluZm9Cb3hPcGVuKSB7XHJcblx0XHRcdFx0aWYgKGRpc2FibGVkTWFya2Vycy5pbmRleE9mKGN1cnJlbnRNYXJrZXJJZCkgIT0gLTEpIHtcclxuXHRcdFx0XHRcdGNsb3NlSW5mb0JveCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBlbmFibGVNYXJrZXIoaWQpIHtcclxuXHRcdFx0bWFya2Vyc1tpZF0uc2V0TWFwKG1hcCk7XHJcblx0XHRcdGRpc2FibGVkTWFya2Vycy5zcGxpY2UoZGlzYWJsZWRNYXJrZXJzLmluZGV4T2YoaWQpLCAxKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gY2FsY3VsYXRlT3BhY2l0eShyZWFkaW5nKSB7XHJcblx0XHRcdHZhciBhZ2UgPSBkYXNoYm9hcmQuZ2V0UmVsYXRpdmVBZ2UocmVhZGluZyk7XHJcblx0XHRcdHZhciBtaW5WaXNpYmxlT3BhY2l0eSA9IDAuMztcclxuXHRcdFx0cmV0dXJuIGFnZSAqICgxIC0gbWluVmlzaWJsZU9wYWNpdHkpICsgbWluVmlzaWJsZU9wYWNpdHk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGNsb3NlSW5mb0JveCgpIHtcclxuXHRcdFx0aW5mb0JveC5jbG9zZSgpO1xyXG5cdFx0XHRpbmZvQm94T3BlbiA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBvcGVuSW5mb0JveChyZWFkaW5nLCBtYXJrZXIpIHtcclxuXHRcdFx0aWYgKGluZm9Cb3hPcGVuKSB7XHJcblx0XHRcdFx0Y2xvc2VJbmZvQm94KCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKHJlYWRpbmcuaWQgPT0gY3VycmVudE1hcmtlcklkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgZm9ybWF0dGVkVGltZSA9IG1vbWVudC51bml4KHJlYWRpbmcudGltZXN0YW1wKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5mb3JtYXQoJ0QgTU1NTSBoOm1tIEEnKTtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBjb250ZW50ID0gXCI8ZGl2PlwiICtcclxuXHRcdFx0XHRcdFx0XHRcIjxoNSBzdHlsZT0nY29sb3I6IHdoaXRlJz5CdW95IFwiICsgcmVhZGluZy5idW95ICsgXCI8L2g1PlwiICtcclxuXHRcdFx0XHRcdFx0XHRmb3JtYXR0ZWRUaW1lICsgXHJcblx0XHRcdFx0XHRcdFx0XCI8YnI+LS0tXCIgK1xyXG5cdFx0XHRcdFx0XHRcdFwiPGJyPkJhdHRlcnk6IFwiICsgcmVhZGluZy5yZWFkaW5ncy5iYXR0ZXJ5ICtcclxuXHRcdFx0XHRcdFx0XHRcIjxicj5QcmVzc3VyZTogXCIgKyByZWFkaW5nLnJlYWRpbmdzLnByZXNzdXJlICtcclxuXHRcdFx0XHRcdFx0XHRcIjxicj5TZWEgbGV2ZWw6IFwiICsgcmVhZGluZy5yZWFkaW5ncy5zZWFsZXZlbCArXHJcblx0XHRcdFx0XHRcdFx0XCI8YnI+VHVyYmlkaXR5OiBcIiArIHJlYWRpbmcucmVhZGluZ3MudHVyYmlkaXR5ICtcclxuXHRcdFx0XHRcdFx0XHRcIjwvZGl2PlwiO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRpbmZvQm94ID0gbmV3IEluZm9Cb3goe1xyXG5cdFx0XHRcdGNvbnRlbnQ6IGNvbnRlbnQsXHJcblx0XHRcdFx0cGl4ZWxPZmZzZXQ6IG5ldyBnb29nbGUubWFwcy5TaXplKC02MCwgMCksXHJcblx0ICAgICAgICAgICAgekluZGV4OiBudWxsLFxyXG5cdCAgICAgICAgICAgIGJveFN0eWxlOiB7XHJcblx0ICAgICAgICAgICAgICAgIC8vIFwiYmFja2dyb3VuZFwiOiBcInVybCgnaHR0cDovL2dvb2dsZS1tYXBzLXV0aWxpdHktbGlicmFyeS12My5nb29nbGVjb2RlLmNvbS9zdm4vdHJ1bmsvaW5mb2JveC9leGFtcGxlcy90aXBib3guZ2lmJykgbm8tcmVwZWF0XCIsXHJcblx0XHRcdFx0XHRcImNvbG9yXCI6IFwid2hpdGVcIixcclxuXHRcdFx0XHRcdFwiYmFja2dyb3VuZC1jb2xvclwiOiBcInJnYig0MCwgNDAsIDQwKVwiLFxyXG5cdFx0XHRcdFx0XCJ3aWR0aFwiOiBcIjEyMHB4XCIsXHJcblx0XHRcdFx0XHRcInBhZGRpbmdcIjogXCIxMHB4XCIsXHJcblx0XHRcdFx0XHRcImJvcmRlci1yYWRpdXNcIjogXCIxMHB4XCJcclxuXHQgICAgICAgICAgICB9LFxyXG5cdCAgICAgICAgICAgIGNsb3NlQm94TWFyZ2luOiBcIi02cHggLTZweCAycHggMnB4XCJcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRpbmZvQm94Lm9wZW4obWFwLCBtYXJrZXIpO1x0XHRcdFxyXG5cdFx0XHRpbmZvQm94T3BlbiA9IHRydWU7XHJcblx0XHRcdGN1cnJlbnRNYXJrZXJJZCA9IHJlYWRpbmcuaWQ7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc2VydmVyJywgc2VydmVyKTtcclxuXHRcclxuXHRmdW5jdGlvbiBzZXJ2ZXIoJGh0dHAsIFNFUlZFUl9BRERSRVNTLCBhdXRoKSB7XHJcblx0XHRcclxuXHRcdHZhciBkdW1teVJlYWRpbmdzID0gW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0aWQ6IDEsXHJcblx0XHRcdFx0YnVveTogMSxcclxuXHRcdFx0XHR0aW1lc3RhbXA6IDE0Mzg5MzM2MTQsXHJcblx0XHRcdFx0bGF0aXR1ZGU6IC0yNy40NDYxMzQyMyxcclxuXHRcdFx0XHRsb25naXR1ZGU6IDE1My4wNzgzNDYyNSxcclxuXHRcdFx0XHRyZWFkaW5ncyA6IHtcclxuXHRcdFx0XHRcdGJhdHRlcnk6IDkwLFxyXG5cdFx0XHRcdFx0cHJlc3N1cmU6IDE0MCxcclxuXHRcdFx0XHRcdHNlYWxldmVsOiAyMSxcclxuXHRcdFx0XHRcdHR1cmJpZGl0eTogMTRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRpZDogMiwgXHJcblx0XHRcdFx0YnVveTogMixcclxuXHRcdFx0XHR0aW1lc3RhbXA6IDE0Mzg1ODgxMTcsXHJcblx0XHRcdFx0bGF0aXR1ZGU6IC0yNy40MjY5Mzc3MixcclxuXHRcdFx0XHRsb25naXR1ZGU6IDE1My4yMDY3NDg5NixcclxuXHRcdFx0XHRyZWFkaW5ncyA6IHtcclxuXHRcdFx0XHRcdGJhdHRlcnk6IDcwLFxyXG5cdFx0XHRcdFx0cHJlc3N1cmU6IDEyMixcclxuXHRcdFx0XHRcdHNlYWxldmVsOiA0NCxcclxuXHRcdFx0XHRcdHR1cmJpZGl0eTogNFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGlkOiAzLCBcclxuXHRcdFx0XHRidW95OiAyLFxyXG5cdFx0XHRcdHRpbWVzdGFtcDogMTQzODc2MDg3NixcclxuXHRcdFx0XHRsYXRpdHVkZTogLTI3LjQ5MTQ3NSwgXHJcblx0XHRcdFx0bG9uZ2l0dWRlOiAxNTMuMDA2NjU1LFxyXG5cdFx0XHRcdHJlYWRpbmdzIDoge1xyXG5cdFx0XHRcdFx0YmF0dGVyeTogNDUsXHJcblx0XHRcdFx0XHRwcmVzc3VyZTogODUsXHJcblx0XHRcdFx0XHRzZWFsZXZlbDogMTUsXHJcblx0XHRcdFx0XHR0dXJiaWRpdHk6IDQ1XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0aWQ6IDQsIFxyXG5cdFx0XHRcdGJ1b3k6IDQsXHJcblx0XHRcdFx0dGltZXN0YW1wOiAxNDM4ODQ3MjkxLFxyXG5cdFx0XHRcdGxhdGl0dWRlOiAtMjcuNDAwMzU3LCBcclxuXHRcdFx0XHRsb25naXR1ZGU6IDE1My4xNzc5OTUsXHJcblx0XHRcdFx0cmVhZGluZ3MgOiB7XHJcblx0XHRcdFx0XHRiYXR0ZXJ5OiA3NSxcclxuXHRcdFx0XHRcdHByZXNzdXJlOiA5NyxcclxuXHRcdFx0XHRcdHNlYWxldmVsOiAzMyxcclxuXHRcdFx0XHRcdHR1cmJpZGl0eTogNjZcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRpZDogNzcsIFxyXG5cdFx0XHRcdGJ1b3k6IDEsXHJcblx0XHRcdFx0dGltZXN0YW1wOiAxNDM4MzI4ODM5LFxyXG5cdFx0XHRcdGxhdGl0dWRlOiAtMjcuNDQ3MTM0MjMsXHJcblx0XHRcdFx0bG9uZ2l0dWRlOiAxNTMuMDkyMzQ2MjUsXHJcblx0XHRcdFx0cmVhZGluZ3MgOiB7XHJcblx0XHRcdFx0XHRiYXR0ZXJ5OiA4MyxcclxuXHRcdFx0XHRcdHByZXNzdXJlOiAxMTgsXHJcblx0XHRcdFx0XHRzZWFsZXZlbDogMjQuNSxcclxuXHRcdFx0XHRcdHR1cmJpZGl0eTogOFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XTtcclxuXHRcdFxyXG5cdFx0dmFyIGR1bW15U2Vuc29ycyA9IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlkOiBcImJhdHRlcnlcIixcclxuXHRcdFx0XHRuYW1lOiBcIkJhdHRlcnlcIixcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogXCJCYXR0ZXJ5IGxldmVsIG9mIGJ1b3lcIixcclxuXHRcdFx0XHRjb2xvdXI6IFwiXCIsXHJcblx0XHRcdFx0dW5pdHM6IFwiJVwiLFxyXG5cdFx0XHRcdGxvd2VyQm91bmQ6IDAsXHJcblx0XHRcdFx0dXBwZXJCb3VuZDogMTAwLFxyXG5cdFx0XHRcdGRpc3BsYXk6IHRydWUsXHJcblx0XHRcdFx0dW5jb25maWd1cmVkOiBmYWxzZVx0XHRcdFx0XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZDogXCJ0dXJiaWRpdHlcIixcclxuXHRcdFx0XHRuYW1lOiBcIlR1cmJpZGl0eVwiLFxyXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBcIldhdGVyIHF1YWxpdHkgYXJvdW5kIGJ1b3lcIixcclxuXHRcdFx0XHRjb2xvdXI6IFwiXCIsXHJcblx0XHRcdFx0dW5pdHM6IFwiZy9tbFwiLFxyXG5cdFx0XHRcdGxvd2VyQm91bmQ6IDAsXHJcblx0XHRcdFx0dXBwZXJCb3VuZDogNzAsXHJcblx0XHRcdFx0ZGlzcGxheTogdHJ1ZSxcclxuXHRcdFx0XHR1bmNvbmZpZ3VyZWQ6IGZhbHNlXHRcdFx0XHRcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlkOiBcInByZXNzdXJlXCIsXHJcblx0XHRcdFx0bmFtZTogXCJcIixcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogXCJcIixcclxuXHRcdFx0XHRjb2xvdXI6IFwiXCIsXHJcblx0XHRcdFx0dW5pdHM6IFwiXCIsXHJcblx0XHRcdFx0bG93ZXJCb3VuZDogLTEsXHJcblx0XHRcdFx0dXBwZXJCb3VuZDogLTEsXHJcblx0XHRcdFx0ZGlzcGxheTogZmFsc2UsXHJcblx0XHRcdFx0dW5jb25maWd1cmVkOiB0cnVlXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0XTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z2V0UmVhZGluZ3M6IGdldFJlYWRpbmdzLFxyXG5cdFx0XHRnZXRTZW5zb3JzOiBnZXRTZW5zb3JzLFxyXG5cdFx0XHRsb2dpbjogbG9naW4sXHJcblx0XHRcdGxvZ291dDogbG9nb3V0XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRSZWFkaW5ncygpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ3F1ZXJ5aW5nIHNlcnZlcicpO1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIHRva2VuID0gYXV0aC5nZXRUb2tlbigpO1xyXG5cdFx0XHR2YXIgY29uZmlnID0ge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRcdCdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdG9rZW5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KFNFUlZFUl9BRERSRVNTICsgJy9hcGkvcmVhZGluZ3MnLCBjb25maWcpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRTZW5zb3JzKCkge1xyXG5cdFx0XHRyZXR1cm4gZHVtbXlTZW5zb3JzO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdFx0dmFyIGRhdGEgPSB7XHJcblx0XHRcdFx0ZW1haWw6IHVzZXJuYW1lLFxyXG5cdFx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZFxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChTRVJWRVJfQUREUkVTUyArICcvYXBpL2xvZ2luJywgZGF0YSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGxvZ291dCgpIHtcclxuXHRcdFx0YXV0aC5sb2dvdXQoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRhbmd1bGFyLm1vZHVsZSgnbW9jay5zZXJ2ZXInLCBbXSlcclxuXHRcdC5mYWN0b3J5KCdzZXJ2ZXInLCBzZXJ2ZXIpO1xyXG5cdFx0XHJcblx0ZnVuY3Rpb24gc2VydmVyKCkge1xyXG5cdFx0XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRSZWFkaW5nczogZ2V0UmVhZGluZ3MsXHJcblx0XHRcdGdldFNlbnNvcnM6IGdldFNlbnNvcnMsXHJcblx0XHRcdGxvZ2luOiBsb2dpbixcclxuXHRcdFx0bG9nb3V0OiBsb2dvdXRcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldFJlYWRpbmdzKCkge1xyXG5cdFx0XHRyZXR1cm4gW1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGlkOiAxLFxyXG5cdFx0XHRcdFx0YnVveTogMSxcclxuXHRcdFx0XHRcdHRpbWVzdGFtcDogMTQzODkzMzYxNCxcclxuXHRcdFx0XHRcdGxhdGl0dWRlOiAtMjcuNDQ2MTM0MjMsXHJcblx0XHRcdFx0XHRsb25naXR1ZGU6IDE1My4wNzgzNDYyNSxcclxuXHRcdFx0XHRcdHJlYWRpbmdzIDoge1xyXG5cdFx0XHRcdFx0XHRiYXR0ZXJ5OiA5MCxcclxuXHRcdFx0XHRcdFx0cHJlc3N1cmU6IDE0MCxcclxuXHRcdFx0XHRcdFx0c2VhbGV2ZWw6IDIxLFxyXG5cdFx0XHRcdFx0XHR0dXJiaWRpdHk6IDE0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0aWQ6IDIsIFxyXG5cdFx0XHRcdFx0YnVveTogMixcclxuXHRcdFx0XHRcdHRpbWVzdGFtcDogMTQzODU4ODExNyxcclxuXHRcdFx0XHRcdGxhdGl0dWRlOiAtMjcuNDI2OTM3NzIsXHJcblx0XHRcdFx0XHRsb25naXR1ZGU6IDE1My4yMDY3NDg5NixcclxuXHRcdFx0XHRcdHJlYWRpbmdzIDoge1xyXG5cdFx0XHRcdFx0XHRiYXR0ZXJ5OiA3MCxcclxuXHRcdFx0XHRcdFx0cHJlc3N1cmU6IDEyMixcclxuXHRcdFx0XHRcdFx0c2VhbGV2ZWw6IDQ0LFxyXG5cdFx0XHRcdFx0XHR0dXJiaWRpdHk6IDRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRpZDogMywgXHJcblx0XHRcdFx0XHRidW95OiAyLFxyXG5cdFx0XHRcdFx0dGltZXN0YW1wOiAxNDM4NzYwODc2LFxyXG5cdFx0XHRcdFx0bGF0aXR1ZGU6IC0yNy40OTE0NzUsIFxyXG5cdFx0XHRcdFx0bG9uZ2l0dWRlOiAxNTMuMDA2NjU1LFxyXG5cdFx0XHRcdFx0cmVhZGluZ3MgOiB7XHJcblx0XHRcdFx0XHRcdGJhdHRlcnk6IDQ1LFxyXG5cdFx0XHRcdFx0XHRwcmVzc3VyZTogODUsXHJcblx0XHRcdFx0XHRcdHNlYWxldmVsOiAxNSxcclxuXHRcdFx0XHRcdFx0dHVyYmlkaXR5OiA0NVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdGlkOiA0LCBcclxuXHRcdFx0XHRcdGJ1b3k6IDQsXHJcblx0XHRcdFx0XHR0aW1lc3RhbXA6IDE0Mzg4NDcyOTEsXHJcblx0XHRcdFx0XHRsYXRpdHVkZTogLTI3LjQwMDM1NywgXHJcblx0XHRcdFx0XHRsb25naXR1ZGU6IDE1My4xNzc5OTUsXHJcblx0XHRcdFx0XHRyZWFkaW5ncyA6IHtcclxuXHRcdFx0XHRcdFx0YmF0dGVyeTogNzUsXHJcblx0XHRcdFx0XHRcdHByZXNzdXJlOiA5NyxcclxuXHRcdFx0XHRcdFx0c2VhbGV2ZWw6IDMzLFxyXG5cdFx0XHRcdFx0XHR0dXJiaWRpdHk6IDY2XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0aWQ6IDc3LCBcclxuXHRcdFx0XHRcdGJ1b3k6IDEsXHJcblx0XHRcdFx0XHR0aW1lc3RhbXA6IDE0MzgzMjg4MzksXHJcblx0XHRcdFx0XHRsYXRpdHVkZTogLTI3LjQ0NzEzNDIzLFxyXG5cdFx0XHRcdFx0bG9uZ2l0dWRlOiAxNTMuMDkyMzQ2MjUsXHJcblx0XHRcdFx0XHRyZWFkaW5ncyA6IHtcclxuXHRcdFx0XHRcdFx0YmF0dGVyeTogODMsXHJcblx0XHRcdFx0XHRcdHByZXNzdXJlOiAxMTgsXHJcblx0XHRcdFx0XHRcdHNlYWxldmVsOiAyNC41LFxyXG5cdFx0XHRcdFx0XHR0dXJiaWRpdHk6IDhcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdF07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldFNlbnNvcnMoKSB7XHJcblx0XHRcdHJldHVybiBbXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0aWQ6IFwiYmF0dGVyeVwiLFxyXG5cdFx0XHRcdFx0bmFtZTogXCJCYXR0ZXJ5XCIsXHJcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogXCJCYXR0ZXJ5IGxldmVsIG9mIGJ1b3lcIixcclxuXHRcdFx0XHRcdGNvbG91cjogXCJcIixcclxuXHRcdFx0XHRcdHVuaXRzOiBcIiVcIixcclxuXHRcdFx0XHRcdGxvd2VyQm91bmQ6IDAsXHJcblx0XHRcdFx0XHR1cHBlckJvdW5kOiAxMDAsXHJcblx0XHRcdFx0XHRkaXNwbGF5OiB0cnVlLFxyXG5cdFx0XHRcdFx0dW5jb25maWd1cmVkOiBmYWxzZVx0XHRcdFx0XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRpZDogXCJ0dXJiaWRpdHlcIixcclxuXHRcdFx0XHRcdG5hbWU6IFwiVHVyYmlkaXR5XCIsXHJcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogXCJXYXRlciBxdWFsaXR5IGFyb3VuZCBidW95XCIsXHJcblx0XHRcdFx0XHRjb2xvdXI6IFwiXCIsXHJcblx0XHRcdFx0XHR1bml0czogXCJnL21sXCIsXHJcblx0XHRcdFx0XHRsb3dlckJvdW5kOiAwLFxyXG5cdFx0XHRcdFx0dXBwZXJCb3VuZDogNzAsXHJcblx0XHRcdFx0XHRkaXNwbGF5OiB0cnVlLFxyXG5cdFx0XHRcdFx0dW5jb25maWd1cmVkOiBmYWxzZVx0XHRcdFx0XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRpZDogXCJwcmVzc3VyZVwiLFxyXG5cdFx0XHRcdFx0bmFtZTogXCJcIixcclxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBcIlwiLFxyXG5cdFx0XHRcdFx0Y29sb3VyOiBcIlwiLFxyXG5cdFx0XHRcdFx0dW5pdHM6IFwiXCIsXHJcblx0XHRcdFx0XHRsb3dlckJvdW5kOiAtMSxcclxuXHRcdFx0XHRcdHVwcGVyQm91bmQ6IC0xLFxyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmFsc2UsXHJcblx0XHRcdFx0XHR1bmNvbmZpZ3VyZWQ6IHRydWVcdFx0XHRcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gbG9naW4oKSB7XHJcblx0XHRcdC8vIHJldHVybiAwO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBsb2dvdXQoKSB7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=