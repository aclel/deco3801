<h3>Commands</h3>
<form ng-submit="vm.editSave()">
	<table class="data-table">
	    <thead>
		<tr>
		    <th>Buoy</th>
		    <th>Command</th>
		    <th>Value</th>
		    <th></th>
		</tr>
	    </thead>
	    <tbody>
		<tr ng-repeat="command in vm.commands | filter:vm.commandFilter">
		    <td>{{ command.buoyName }}</td>
		    <td>{{ command.commandName }}</td>
		    <td>{{ command.value }}</td>
		    <td class="button-cell">
		        <button type="button" class="btn btn-default btn-sm right" ng-if="vm.showDeleteButton(commands)" ng-click="vm.editDelete(commands)">
		            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
		        </button>
		        <button type="button" class="btn btn-default btn-sm right" ng-if="vm.editId == -1" ng-click="vm.editExisting(commands)">
		            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
		        </button>
		        <button type="button" class="btn btn-default btn-sm right invisible">
		            <span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
		        </button>
		        <button type="button" class="btn btn-default btn-sm right invisible">
		            <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
		        </button>
		    </td>
		</tr>
	    </tbody>
	</table>
</form>
<button type="button" class="btn btn-default"
    ng-click="vm.newCommand = true"
    ng-if="!vm.editing()">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
        <small>New Command</small>
</button>
<form ng-if="vm.newCommand == true">
    <h4>New Command</h4>
    <select type="button" class="btn btn-default" 
            ng-model="vm.command.id" 
            bs-options="opt.id as opt.name for opt in vm.commandTypes"
            placeholder="Command type"
            bs-select>
    </select>
    <label>Value</label>
    <input type="text" ng-model="vm.command.value" style="width: 20%">
    <input type="submit" ng-click="vm.sendCommand()"
        class="button" value="Send">
    <button class="info button" ng-click="vm.cancelNewCommand()">Cancel</button>
</form>
